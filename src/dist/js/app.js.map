{"version":3,"sources":["webpack:///webpack/bootstrap b1b11656d08c08fed24b","webpack:///./app/main.js","webpack:///delegated ./node_modules/react/react.js from dll-reference react_b1182dbd2380566b616d","webpack:///external \"react_b1182dbd2380566b616d\"","webpack:///delegated ./node_modules/react-dom/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///delegated ./node_modules/react-redux/lib/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///delegated ./node_modules/url-parse/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///delegated ./node_modules/qs/lib/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///./app/menu.js","webpack:///./app/redux/actions/course.js","webpack:///./app/Blackboard.js","webpack:///./app/redux/actions/draw.js","webpack:///./app/redux/store/init.js","webpack:///delegated ./node_modules/redux/lib/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///./~/redux-persist/lib/index.js","webpack:///./~/redux-persist/lib/defaults/asyncLocalStorage.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///delegated ./node_modules/process/browser.js from dll-reference react_b1182dbd2380566b616d","webpack:///./~/redux-persist/lib/autoRehydrate.js","webpack:///./~/redux-persist/lib/constants.js","webpack:///./~/redux-persist/lib/utils/isStatePlainEnough.js","webpack:///delegated ./node_modules/lodash/isPlainObject.js from dll-reference react_b1182dbd2380566b616d","webpack:///./~/redux-persist/lib/createPersistor.js","webpack:///./~/redux-persist/lib/purgeStoredState.js","webpack:///./~/json-stringify-safe/stringify.js","webpack:///./~/redux-persist/lib/createTransform.js","webpack:///./~/redux-persist/lib/getStoredState.js","webpack:///./~/redux-persist/lib/persistStore.js","webpack:///./app/redux/reducers/course.js","webpack:///./app/redux/middlewares/socket_recorder.js","webpack:///delegated ./node_modules/redux-thunk/lib/index.js from dll-reference react_b1182dbd2380566b616d","webpack:///./app/stylus/main.styl?c489","webpack:///./app/stylus/main.styl","webpack:///./~/css-loader/lib/css-base.js","webpack:///./app/stylus/img/pen.png","webpack:///./~/style-loader/addStyles.js","webpack:///./app/Fiddle.js","webpack:///./app/redux/actions/code.js"],"names":["loading_content","name","loading","url","Promise","resolve","reject","$","get","data","format_menu","lines","split","map","l","trim","filter","length","x","f","others","join","k","n","title","type","match","replace","level","topic","Main","window","location","href","query","parse","state","content","store","promise","course","then","dispatch","setState","getState","Component","_App","item","props","find","renderPanel","App","render","document","getElementById","Menu","paddingLeft","fontSize","paddingTop","paddingBottom","cursor","_switch","itemStyle","styles","container","borderRight","width","ACTION_SET_COURSE","ACTION_SWITCH_TO","set_course","switch_to","id","getDimensions","innerWidth","documentElement","clientWidth","body","height","innerHeight","clientHeight","loading_data","catch","_Blackboard","console","log","lastX","lastY","colors","color","penSize","y","_keydown","bind","addEventListener","redraw_data","line","JSON","_draw","ctx","refs","canvas","getContext","_clear","_redraw","removeEventListener","idx","indexOf","ndx","event","key","_pick","_reloading","nextProps","setTimeout","_loaded","draw","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","clientX","clientY","tell_back_end","clearRect","_mouseMove","_mouseUp","_mouseDown","backgroundColor","top","left","ColorPicker","pick","c","borderColor","Blackboard","ACTION_DRAW","ACTION_DRAW_SEGMENT","ACTION_CLEAR","draw_segment","clear","init","reducers","reducer","initial","action","init_socket","socket","io","socket_recorder","emit","next","_Fiddle","on","msg","error","_s","frame","reload","reloading","editor","saveCtx","_compile","_save","Frame","contentWindow","src","CodeEditor","doc","setValue","initialContent","CodeMirror","value","mode","cursorHeight","clearInterval","I","getValue","Fiddle","ACTION_SAVE","ACTION_COMPILE","save","compile"],"mappings":"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ACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,uDAAsD;AACtD;AACA;AACA,2DAA0D;AAC1D;AACA,E;;;;;;;ACtHA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACzLD,8C;;;;;;ACAA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;;AAEA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2IAA0I,iCAAiC;AAC3K,4CAA2C;;AAE3C;AACA,IAAG;AACH;AACA,E;;;;;;ACzFA;;AAEA;AACA;AACA,EAAC;AACD;AACA,yD;;;;;;ACNA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACvBA,gD;;;;;;ACAA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,+CAA8C,yCAAyC;AACvF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;;AC/KA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;AC/CA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC1BA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,mC;;;;;;AC3BA;;AAEA;AACA;AACA,EAAC;;AAED,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAgE,YAAY,2BAA2B;;AAEvG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,iJAAgJ;AAChJ;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,E;;;;;;;AChGA;;AAEA;AACA;AACA,EAAC;;AAED,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;A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AiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA,kCAAiC,4+D;;;;;;ACAjC;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,I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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b1b11656d08c08fed24b","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport React, {Component} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Provider} from 'react-redux'\n\nimport URL from 'url-parse'\nimport qs from 'qs'\nimport {Menu} from \"./menu\"\nimport {Blackboard} from \"./Blackboard\"\n\nimport {init} from \"redux/store/init\"\nimport {init_socket} from 'redux/middlewares/socket_recorder'\n\nimport \"./stylus/main.styl\"\n\nimport {set_course, switch_to} from \"./redux/actions/course\"\n\nimport {Fiddle} from \"./Fiddle\"\nimport {connect} from 'react-redux'\n\nfunction loading_content(name) {\n  function loading() {\n    const url = `/courses/${name}.content`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n        resolve(data)\n      })\n    })\n\n  }\n  return loading(name)\n\n}\n\n\nfunction format_menu(data){\n\n  let lines = data.split(\"\\n\").map(l => l.trim())\n  lines = lines.filter(l => l.length > 1)\n  lines = lines.map(l => l.split(/[\\t ]/).map(x=>x.trim()))\n    .map(([f, ...others]) => {\n      const join = others.filter(k => k.length > 0).join(\" \")\n      return [f, join]\n    })\n  \n  lines = lines.map(([n, title]) => {\n    let type = \"blackboard\"\n    if(title.match(/code/)) {\n      title.replace(\"code\", \"\")  \n      type = 'code'\n    }\n    return {\n      level : n.replace(\".\", \"\").length,\n      topic : n,\n      title,\n      type\n    }\n  })\n  \n  \n  return lines\n\n}\n\n\n\n\nexport class Main extends React.Component{\n  constructor(){\n    super()\n    const url = new URL(window.location.href)\n    this.query = qs.parse(url.query.replace(\"?\", \"\")) \n    this.state = {\n      content : null,\n      store : init()\n    }\n    init_socket()\n    \n  }\n  componentWillMount(){\n    const promise = loading_content(this.query.course)\n    promise.then(data => {\n      store.dispatch(set_course(this.query.course))\n      \n      const content = format_menu(data)\n      \n      store.dispatch(switch_to(content[0].topic, 1, content[0].title))\n      this.setState({content})\n    })\n  }\n  \n \n  \n  render(){\n    const {content, store} = this.state\n    if(!content) {\n      return null\n    }\n    \n    const course = store.getState().course\n    return <Provider store={store}>\n      <div>\n        <Menu content={content} course={this.query.course} />\n       \n        <App content={content}/>\n      </div>\n    </Provider>\n  }\n}\n\n\nclass _App extends Component{\n   \n  renderPanel(course){\n    const item = this.props.content.find(x => x.topic === course.topic)\n    if(item.type === 'blackboard'){\n      return <Blackboard />\n    }\n    else if(item.type === \"code\") {\n      return <Fiddle />\n    }\n  }\n  render(){\n    return <div>\n      {this.renderPanel(this.props.course)}\n    </div>\n  }  \n}\n\nconst map = state => {\n  return {\n    course : state.course\n  }\n  \n}\nlet App = connect(map)(_App)\n\n\n\n\nReactDOM.render(\n  <Main />,\n  document.getElementById(\"app\")\n)\n\n\n\n// WEBPACK FOOTER //\n// ./app/main.js","module.exports = (__webpack_require__(3))(1);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react/react.js from dll-reference react_b1182dbd2380566b616d\n// module id = 2\n// module chunks = 0","module.exports = react_b1182dbd2380566b616d;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react_b1182dbd2380566b616d\"\n// module id = 3\n// module chunks = 0","module.exports = (__webpack_require__(3))(32);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-dom/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 4\n// module chunks = 0","module.exports = (__webpack_require__(3))(208);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-redux/lib/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 5\n// module chunks = 0","module.exports = (__webpack_require__(3))(183);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/url-parse/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 6\n// module chunks = 0","module.exports = (__webpack_require__(3))(178);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/qs/lib/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 7\n// module chunks = 0","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React,{Component} from 'react'\n\nimport {\n  switch_to\n} from \"./redux/actions/course\"\n\nexport class Menu extends Component {\n\n  itemStyle(level) {\n    return {\n      paddingLeft : (level - 1) * 10 + \"px\",\n      fontSize : (20 - (level)) + 'px',\n      paddingTop : 10,\n      paddingBottom : 10,\n      cursor : 'pointer'\n    }\n  }\n  \n  \n  _switch(topic, title) {\n    store.dispatch(switch_to(topic, 1, title))\n  }\n\n  render(){\n    const {content, course} = this.props\n\n    return (\n      <div className=\"menu\">\n        {content.map( ({topic, title, level}) => {\n          return <div \n            onClick={ () => this._switch(topic, title)}\n            className=\"menu-item\" key={topic} style={this.itemStyle(level)}>{title}</div>\n        })}\n      </div>\n    )\n\n  }\n}\n\nconst styles = {\n  container : {\n    borderRight : '1px solid #eee',\n    width : '200px' \n    \n  }  \n}\n\n\n// WEBPACK FOOTER //\n// ./app/menu.js","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_SET_COURSE = \"set_course@Blackboard\"\nexport const ACTION_SWITCH_TO = \"switch_to@Blackboard\"\n\nexport const set_course = (course) => {\n  return {\n    type : ACTION_SET_COURSE,\n    course: course \n  }  \n}\n\nexport const switch_to = (topic, id, title ) => {\n  return {\n    type : ACTION_SWITCH_TO,\n    topic,\n    id,\n    title\n  }\n  \n} \n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/course.js","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React, {Component} from 'react'\n\nimport {connect} from 'react-redux'\n\n\nimport {switch_to} from \"./redux/actions/course\"\nimport {draw, clear, draw_segment} from \"./redux/actions/draw\"\nconst getDimensions = () => {\n\n  const width = window.innerWidth\n    || document.documentElement.clientWidth\n    || document.body.clientWidth\n\n  const height = window.innerHeight\n    || document.documentElement.clientHeight\n    || document.body.clientHeight\n  return {\n    width,\n    height\n  }\n\n\n}\n\nfunction loading_data({course, topic, id}) {\n  function loading() {\n    const url = `/courses/${course}/${topic}/${id}.log`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n          resolve(data)\n        })\n        .catch(err => {\n          resolve(null)\n        })\n    })\n\n  }\n  return loading()\n\n}\nclass _Blackboard extends Component{\n\n  constructor(props){\n    super()\n\n    console.log(props)\n\n    this.lastX = null\n    this.lastY = null\n\n    this.state = {\n      colors : [\n        \"white\",\n        \"#333\",\n        \"red\",\n        \"yellow\",\n        \"green\",\n        \"blue\"\n      ],\n      color : \"#333\",\n      penSize : 5,\n      x : null,\n      y : null,\n      loading : true\n    }\n\n    this._keydown = this._keydown.bind(this)\n\n\n    document.addEventListener(\"keydown\",this._keydown) \n\n  }\n\n\n  _redraw(){\n    let lines = this.redraw_data\n    if(lines) {\n      lines = lines.split(\"\\n\").filter(line => line.length > 1).map(JSON.parse)\n      lines.map(({x, y, color, penSize}) => {\n        if(!x) {\n          this.lastX = null\n          this.lastY =  null\n        }else {\n          this._draw(this.ctx, color, x * 2, y * 2, penSize)\n        }\n      })\n\n    }\n    this.lastX = null\n    this.lastY =  null\n\n  }\n  _loaded(){\n\n    this.lastX = null\n    this.lastY = null\n    this.refs.canvas.width = getDimensions().width * 2\n    this.refs.canvas.height = getDimensions().height * 2\n    this.ctx = this.refs.canvas.getContext(\"2d\")\n    this._clear(false)\n    this._redraw()\n\n  }\n\n  componentWillUnmount(){\n\n    document.removeEventListener(\"keydown\",this._keydown) \n  }\n\n  _keydown() {\n    if(this.state.loading) {return}\n    const idx = this.state.colors.indexOf(this.state.color)\n\n    let ndx = null\n    if(event.key === 'ArrowLeft') {\n      ndx = idx - 1\n      if(ndx < 0 ) {\n        ndx = this.state.colors.length - 1\n      }\n\n\n      this._pick(this.state.colors[ndx])\n    } else if (event.key === \"ArrowRight\") {\n      ndx = idx + 1\n      if(ndx > this.state.colors.length - 1 ) {\n        ndx = 0\n      }\n      \n      this._pick(this.state.colors[ndx])\n      // this.setState({color : this.state.colors[ndx]})\n    } else {\n\n      this._pick(this.state.colors[idx])\n    }\n  }\n\n\n\n  componentDidMount(){\n\n\n\n    this._reloading()\n  }\n\n  componentWillReceiveProps(nextProps){\n\n\n    if(nextProps.course.course !== this.props.course.course\n      ||\n      nextProps.course.topic !== this.props.course.topic\n      ||\n\n      nextProps.course.id !== this.props.course.id\n    )\n    {\n      setTimeout( (() => {\n        this._reloading()\n      }).bind(this), 20)\n    }\n  }\n\n\n\n  _reloading() {\n    loading_data (this.props.course)\n      .then( (data => {\n        this.redraw_data = data\n\n        this.setState({\n          loading : false\n        }, this._loaded.bind(this))\n\n      }).bind(this))\n\n  }\n  _mouseDown(){\n\n    this.draw = true\n  }\n\n  _draw(ctx,color, x, y, penSize) {\n\n    if(this.lastX && this.lastY) {\n\n      ctx.beginPath()\n      ctx.strokeStyle=color\n      ctx.lineWidth = penSize\n      ctx.moveTo(this.lastX, this.lastY)\n      ctx.lineTo(x, y)\n      ctx.stroke()\n    }\n\n    this.lastX = x\n    this.lastY = y\n\n\n  }\n\n  _mouseMove(event){\n\n    const x = event.clientX\n    const y = event.clientY\n\n\n    if(this.draw) {\n      const course = this.props.course\n      store.dispatch(draw(course.course, course.topic, course.id, x, y, this.state.color, this.state.penSize))\n      this._draw(this.ctx, this.state.color, x * 2, y * 2, this.state.penSize)\n    }\n    this.setState({\n      x,\n      y\n    })\n\n\n  }\n\n  _mouseUp(){\n    this.draw = false\n    this.lastX = null\n    this.lastY =  null\n    store.dispatch(draw_segment(\n      this.props.course.course,\n      this.props.course.topic,\n      this.props.course.id\n    ))\n\n  }\n\n  _pick(color){\n    if(color === 'white') {\n\n      this.setState({\n        color,\n        penSize : 100\n      })\n\n    }\n    else {\n      this.setState({\n        color,\n        penSize : 5\n      })\n    }\n\n  }\n\n  _clear(tell_back_end = true){\n    if(tell_back_end) {\n\n      store.dispatch(clear(this.props.course.course, this.props.course.topic, this.props.course.id))\n    }\n    this.ctx.clearRect(0, 0, getDimensions().width * 2, getDimensions().height * 2)\n  }\n\n  _switch(id) {\n    this._clear(false)\n    store.dispatch(switch_to(this.props.course.topic, id))\n\n  }\n\n\n  render(){\n    const { colors, color, x, y, loading } = this.state\n\n    if(loading) { return null}\n    const {course} = this.props\n    return <div\n      onMouseMove={this._mouseMove.bind(this)}\n      onMouseUp={this._mouseUp.bind(this)}\n      onMouseDown={this._mouseDown.bind(this)}\n    >\n\n      <div className=\"title\">{course.title}</div>\n      <div id=\"pages\" className=\"pages\">\n        {\n          [1, 2, 3, 4, 5, 6, 7, 8, 9].map(x => {\n            return <div key={x} onClick={() => this._switch(x)} style={{backgroundColor : x === course.id ? \"#31d22e\" : \"#f2f3f4\"}} className=\"page\">{x}</div>\n          })\n        }\n\n      </div>\n      <div className=\"cleaner\" onClick={this._clear.bind(this)}>清空</div>\n\n      {color === 'white' &&\n      <div className=\"eraser\" style={{top : (y - 25) + \"px\", left : (x - 25) + \"px\"}}></div>\n      }\n\n      <ColorPicker pick={this._pick.bind(this)} colors={colors} color={color} />\n\n      <canvas className='canvas'\n              ref=\"canvas\"\n\n      />\n\n    </div>\n  }\n}\n\n\n\nconst ColorPicker = ({pick, colors, color}) => {\n  return (\n    <div className=\"color\">\n      {colors.map(c => {\n        return <div key={c}\n                    onClick={() => pick(c)}\n                    className={c === 'white' ? 'white' : ''}\n                    style={{backgroundColor : c, borderColor : color == c ? 'black' : \"#eee\"}} ></div>\n      })}\n\n    </div>\n  )\n}\n\n\nconst map = (state) => {\n  return {\n    course : state.course\n  }\n}\nexport let Blackboard = connect(map)(_Blackboard)\n\n\n// WEBPACK FOOTER //\n// ./app/Blackboard.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_DRAW = \"draw@Blackboard\"\nexport const ACTION_DRAW_SEGMENT = \"draw_seg@Blackboard\"\nexport const ACTION_CLEAR = \"clear@Blackboard\"\n\n\nexport const draw = (course, topic, id, x, y, color, penSize) => {\n  return {\n    type : ACTION_DRAW,\n    course,\n    topic,\n    id,\n    x, \n    y,\n    color,\n    penSize\n  }\n}\n\n\nexport const draw_segment = (course, topic, id) => {\n  return {\n    type : ACTION_DRAW_SEGMENT,\n    course,\n    topic,\n    id,\n  }\n}\n\n\n// export const set_color = (course, topic, id, color) => {\n//   return {\n//     type : ACTION_SET_COLOR,\n//     course,\n//     topic,\n//     id,\n//     color : color\n//   }\n// }\n\nexport const clear = (course, topic, id) => {\n  return {\n    course,\n    topic,\n    id,\n    type : ACTION_CLEAR \n  }  \n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/draw.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport {\n  compose,\n  applyMiddleware,\n  createStore,\n  combineReducers\n} from 'redux'\n\nimport {persistStore, autoRehydrate} from 'redux-persist'\n\n/** 引入 Reducer **/\nimport {course} from \"redux/reducers/course\"\n\n/** 引入 middleware **/\n\nimport {socket_recorder} from 'redux/middlewares/socket_recorder'\nimport thunk from 'redux-thunk'\n\n/**\n * 创建Redux-Store\n * @returns {*}\n */\n\nexport const init = () => {\n  // 合并Reducer\n  const reducers = {\n    course \n  }\n\n  const reducer = combineReducers(reducers);\n  // 创建Store\n  // 这里是将所有的redux enhancer组合起来\n  const store = applyMiddleware(thunk, socket_recorder)(createStore)(reducer)\n  \n  window.store = store\n  return store\n  \n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/store/init.js","module.exports = (__webpack_require__(3))(187);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux/lib/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 13\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storages = exports.purgeStoredState = exports.persistStore = exports.getStoredState = exports.createTransform = exports.createPersistor = exports.autoRehydrate = undefined;\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nvar _autoRehydrate = require('./autoRehydrate');\n\nvar _autoRehydrate2 = _interopRequireDefault(_autoRehydrate);\n\nvar _createPersistor = require('./createPersistor');\n\nvar _createPersistor2 = _interopRequireDefault(_createPersistor);\n\nvar _createTransform = require('./createTransform');\n\nvar _createTransform2 = _interopRequireDefault(_createTransform);\n\nvar _getStoredState = require('./getStoredState');\n\nvar _getStoredState2 = _interopRequireDefault(_getStoredState);\n\nvar _persistStore = require('./persistStore');\n\nvar _persistStore2 = _interopRequireDefault(_persistStore);\n\nvar _purgeStoredState = require('./purgeStoredState');\n\nvar _purgeStoredState2 = _interopRequireDefault(_purgeStoredState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar storageDeprecatedMessage = function storageDeprecatedMessage(type) {\n  return '\\n  To import async' + type + 'Storage please import from \\'redux-persist/storages\\'. For Example:\\n  `import { async' + type + 'Storage } from \\'redux-persist/storages\\'`\\n  or `var async' + type + 'Storage = require(\\'redux-persist/storages\\').async' + type + 'Storage`\\n';\n};\n\nvar storages = {\n  asyncLocalStorage: (0, _asyncLocalStorage2.default)('local', { deprecated: storageDeprecatedMessage('Local') }),\n  asyncSessionStorage: (0, _asyncLocalStorage2.default)('session', { deprecated: storageDeprecatedMessage('Session') })\n};\n\nexports.autoRehydrate = _autoRehydrate2.default;\nexports.createPersistor = _createPersistor2.default;\nexports.createTransform = _createTransform2.default;\nexports.getStoredState = _getStoredState2.default;\nexports.persistStore = _persistStore2.default;\nexports.purgeStoredState = _purgeStoredState2.default;\nexports.storages = storages;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/index.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (type, config) {\n  var deprecated = config && config.deprecated;\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      // warn if deprecated\n      if (deprecated) console.warn('redux-persist: ', deprecated);\n\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n          nextTick(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          nextTick(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          nextTick(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          nextTick(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n};\n\nvar genericSetImmediate = typeof setImmediate === 'undefined' ? global.setImmediate : setImmediate;\nvar nextTick = process && process.nextTick ? process.nextTick : genericSetImmediate;\n\nvar noStorage = process.env.NODE_ENV === 'production' ? function () {\n  /* noop */return null;\n} : function () {\n  console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n  return null;\n};\n\nfunction hasLocalStorage() {\n  var storageExists = void 0;\n  try {\n    storageExists = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && !!window.localStorage;\n    if (storageExists) {\n      var testKey = 'redux-persist localStorage test';\n      // @TODO should we also test set and remove?\n      window.localStorage.getItem(testKey);\n    }\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist localStorage getItem test failed, persistence will be disabled.');\n    return false;\n  }\n  return storageExists;\n}\n\nfunction hasSessionStorage() {\n  try {\n    return (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && typeof window.sessionStorage !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/defaults/asyncLocalStorage.js\n// module id = 15\n// module chunks = 0","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 16\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 17\n// module chunks = 0","module.exports = (__webpack_require__(3))(3);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/process/browser.js from dll-reference react_b1182dbd2380566b616d\n// module id = 18\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = autoRehydrate;\n\nvar _constants = require('./constants');\n\nvar _isStatePlainEnough = require('./utils/isStatePlainEnough');\n\nvar _isStatePlainEnough2 = _interopRequireDefault(_isStatePlainEnough);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction autoRehydrate() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var stateReconciler = config.stateReconciler || defaultStateReconciler;\n\n  return function (next) {\n    return function (reducer, initialState, enhancer) {\n      var store = next(liftReducer(reducer), initialState, enhancer);\n      return _extends({}, store, {\n        replaceReducer: function replaceReducer(reducer) {\n          return store.replaceReducer(liftReducer(reducer));\n        }\n      });\n    };\n  };\n\n  function liftReducer(reducer) {\n    var rehydrated = false;\n    var preRehydrateActions = [];\n    return function (state, action) {\n      if (action.type !== _constants.REHYDRATE) {\n        if (config.log && !rehydrated) preRehydrateActions.push(action); // store pre-rehydrate actions for debugging\n        return reducer(state, action);\n      } else {\n        if (config.log && !rehydrated) logPreRehydrate(preRehydrateActions);\n        rehydrated = true;\n\n        var inboundState = action.payload;\n        var reducedState = reducer(state, action);\n\n        return stateReconciler(state, inboundState, reducedState, config.log);\n      }\n    };\n  }\n}\n\nfunction logPreRehydrate(preRehydrateActions) {\n  if (preRehydrateActions.length > 0) {\n    console.log('\\n      redux-persist/autoRehydrate: %d actions were fired before rehydration completed. This can be a symptom of a race\\n      condition where the rehydrate action may overwrite the previously affected state. Consider running these actions\\n      after rehydration:\\n    ', preRehydrateActions.length);\n  }\n}\n\nfunction defaultStateReconciler(state, inboundState, reducedState, log) {\n  var newState = _extends({}, reducedState);\n\n  Object.keys(inboundState).forEach(function (key) {\n    // if initialState does not have key, skip auto rehydration\n    if (!state.hasOwnProperty(key)) return;\n\n    // if initial state is an object but inbound state is null/undefined, skip\n    if (_typeof(state[key]) === 'object' && !inboundState[key]) {\n      if (log) console.log('redux-persist/autoRehydrate: sub state for key `%s` is falsy but initial state is an object, skipping autoRehydrate.', key);\n      return;\n    }\n\n    // if reducer modifies substate, skip auto rehydration\n    if (state[key] !== reducedState[key]) {\n      if (log) console.log('redux-persist/autoRehydrate: sub state for key `%s` modified, skipping autoRehydrate.', key);\n      newState[key] = reducedState[key];\n      return;\n    }\n\n    // otherwise take the inboundState\n    if ((0, _isStatePlainEnough2.default)(inboundState[key]) && (0, _isStatePlainEnough2.default)(state[key])) newState[key] = _extends({}, state[key], inboundState[key]); // shallow merge\n    else newState[key] = inboundState[key]; // hard set\n\n    if (log) console.log('redux-persist/autoRehydrate: key `%s`, rehydrated to ', key, newState[key]);\n  });\n  return newState;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/autoRehydrate.js\n// module id = 19\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar KEY_PREFIX = exports.KEY_PREFIX = 'reduxPersist:';\nvar REHYDRATE = exports.REHYDRATE = 'persist/REHYDRATE';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/constants.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isStatePlainEnough;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isStatePlainEnough(a) {\n  // isPlainObject + duck type not immutable\n  if (!a) return false;\n  if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) !== 'object') return false;\n  if (typeof a.asMutable === 'function') return false;\n  if (!(0, _isPlainObject2.default)(a)) return false;\n  return true;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/utils/isStatePlainEnough.js\n// module id = 21\n// module chunks = 0","module.exports = (__webpack_require__(3))(189);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/lodash/isPlainObject.js from dll-reference react_b1182dbd2380566b616d\n// module id = 22\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createPersistor;\n\nvar _constants = require('./constants');\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nvar _purgeStoredState = require('./purgeStoredState');\n\nvar _purgeStoredState2 = _interopRequireDefault(_purgeStoredState);\n\nvar _jsonStringifySafe = require('json-stringify-safe');\n\nvar _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createPersistor(store, config) {\n  // defaults\n  var serializer = config.serialize === false ? function (data) {\n    return data;\n  } : defaultSerializer;\n  var deserializer = config.serialize === false ? function (data) {\n    return data;\n  } : defaultDeserializer;\n  var blacklist = config.blacklist || [];\n  var whitelist = config.whitelist || false;\n  var transforms = config.transforms || [];\n  var debounce = config.debounce || false;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // pluggable state shape (e.g. immutablejs)\n  var stateInit = config._stateInit || {};\n  var stateIterator = config._stateIterator || defaultStateIterator;\n  var stateGetter = config._stateGetter || defaultStateGetter;\n  var stateSetter = config._stateSetter || defaultStateSetter;\n\n  // storage with keys -> getAllKeys for localForage support\n  var storage = config.storage || (0, _asyncLocalStorage2.default)('local');\n  if (storage.keys && !storage.getAllKeys) {\n    storage.getAllKeys = storage.keys;\n  }\n\n  // initialize stateful values\n  var lastState = stateInit;\n  var paused = false;\n  var storesToProcess = [];\n  var timeIterator = null;\n\n  store.subscribe(function () {\n    if (paused) return;\n\n    var state = store.getState();\n\n    stateIterator(state, function (subState, key) {\n      if (!passWhitelistBlacklist(key)) return;\n      if (stateGetter(lastState, key) === stateGetter(state, key)) return;\n      if (storesToProcess.indexOf(key) !== -1) return;\n      storesToProcess.push(key);\n    });\n\n    // time iterator (read: debounce)\n    if (timeIterator === null) {\n      timeIterator = setInterval(function () {\n        if (storesToProcess.length === 0) {\n          clearInterval(timeIterator);\n          timeIterator = null;\n          return;\n        }\n\n        var key = storesToProcess[0];\n        var storageKey = createStorageKey(key);\n        var endState = transforms.reduce(function (subState, transformer) {\n          return transformer.in(subState, key);\n        }, stateGetter(store.getState(), key));\n        if (typeof endState !== 'undefined') storage.setItem(storageKey, serializer(endState), warnIfSetError(key));\n        storesToProcess.shift();\n      }, debounce);\n    }\n\n    lastState = state;\n  });\n\n  function passWhitelistBlacklist(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return false;\n    if (blacklist.indexOf(key) !== -1) return false;\n    return true;\n  }\n\n  function adhocRehydrate(incoming) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var state = {};\n    if (options.serial) {\n      stateIterator(incoming, function (subState, key) {\n        try {\n          var data = deserializer(subState);\n          var value = transforms.reduceRight(function (interState, transformer) {\n            return transformer.out(interState, key);\n          }, data);\n          state = stateSetter(state, key, value);\n        } catch (err) {\n          if (process.env.NODE_ENV !== 'production') console.warn('Error rehydrating data for key \"' + key + '\"', subState, err);\n        }\n      });\n    } else state = incoming;\n\n    store.dispatch(rehydrateAction(state));\n    return state;\n  }\n\n  function createStorageKey(key) {\n    return '' + keyPrefix + key;\n  }\n\n  // return `persistor`\n  return {\n    rehydrate: adhocRehydrate,\n    pause: function pause() {\n      paused = true;\n    },\n    resume: function resume() {\n      paused = false;\n    },\n    purge: function purge(keys) {\n      return (0, _purgeStoredState2.default)({ storage: storage, keyPrefix: keyPrefix }, keys);\n    }\n  };\n}\n\nfunction warnIfSetError(key) {\n  return function setError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}\n\nfunction defaultSerializer(data) {\n  return (0, _jsonStringifySafe2.default)(data, null, null, function (k, v) {\n    if (process.env.NODE_ENV !== 'production') return null;\n    throw new Error('\\n      redux-persist: cannot process cyclical state.\\n      Consider changing your state structure to have no cycles.\\n      Alternatively blacklist the corresponding reducer key.\\n      Cycle encounted at key \"' + k + '\" with value \"' + v + '\".\\n    ');\n  });\n}\n\nfunction defaultDeserializer(serial) {\n  return JSON.parse(serial);\n}\n\nfunction rehydrateAction(data) {\n  return {\n    type: _constants.REHYDRATE,\n    payload: data\n  };\n}\n\nfunction defaultStateIterator(collection, callback) {\n  return Object.keys(collection).forEach(function (key) {\n    return callback(collection[key], key);\n  });\n}\n\nfunction defaultStateGetter(state, key) {\n  return state[key];\n}\n\nfunction defaultStateSetter(state, key, value) {\n  state[key] = value;\n  return state;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/createPersistor.js\n// module id = 23\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = purgeStoredState;\n\nvar _constants = require('./constants');\n\nfunction purgeStoredState(config, keys) {\n  var storage = config.storage;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // basic validation\n  if (Array.isArray(config)) throw new Error('redux-persist: purgeStoredState requires config as a first argument (found array). An array of keys is the optional second argument.');\n  if (!storage) throw new Error('redux-persist: config.storage required in purgeStoredState');\n\n  if (typeof keys === 'undefined') {\n    // if keys is not defined, purge all keys\n    return new Promise(function (resolve, reject) {\n      storage.getAllKeys(function (err, allKeys) {\n        if (err && process.env.NODE_ENV !== 'production') {\n          console.warn('redux-persist: error during purgeStoredState in storage.getAllKeys');\n          reject(err);\n        } else {\n          resolve(purgeStoredState(config, allKeys.filter(function (key) {\n            return key.indexOf(keyPrefix) === 0;\n          }).map(function (key) {\n            return key.slice(keyPrefix.length);\n          })));\n        }\n      });\n    });\n  } else {\n    // otherwise purge specified keys\n    return Promise.all(keys.map(function (key) {\n      return storage.removeItem('' + keyPrefix + key, warnIfRemoveError(key));\n    }));\n  }\n}\n\nfunction warnIfRemoveError(key) {\n  return function removeError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/purgeStoredState.js\n// module id = 24\n// module chunks = 0","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-stringify-safe/stringify.js\n// module id = 25\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction createTransform(inbound, outbound) {\n  var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var whitelist = config.whitelist || null;\n  var blacklist = config.blacklist || null;\n\n  function whitelistBlacklistCheck(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return true;\n    if (blacklist && blacklist.indexOf(key) !== -1) return true;\n    return false;\n  }\n\n  return {\n    in: function _in(state, key) {\n      return !whitelistBlacklistCheck(key) && inbound ? inbound(state, key) : state;\n    },\n    out: function out(state, key) {\n      return !whitelistBlacklistCheck(key) && outbound ? outbound(state, key) : state;\n    }\n  };\n}\n\nexports.default = createTransform;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/createTransform.js\n// module id = 26\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = getStoredState;\n\nvar _constants = require('./constants');\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getStoredState(config, onComplete) {\n  var storage = config.storage || (0, _asyncLocalStorage2.default)('local');\n  var deserialize = config.deserialize || defaultDeserialize;\n  var blacklist = config.blacklist || [];\n  var whitelist = config.whitelist || false;\n  var transforms = config.transforms || [];\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // fallback getAllKeys to `keys` if present (LocalForage compatability)\n  if (storage.keys && !storage.getAllKeys) storage = _extends({}, storage, { getAllKeys: storage.keys });\n\n  var restoredState = {};\n  var completionCount = 0;\n\n  storage.getAllKeys(function (err, allKeys) {\n    if (err) {\n      if (process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error in storage.getAllKeys');\n      complete(err);\n    }\n\n    var persistKeys = allKeys.filter(function (key) {\n      return key.indexOf(keyPrefix) === 0;\n    }).map(function (key) {\n      return key.slice(keyPrefix.length);\n    });\n    var keysToRestore = persistKeys.filter(passWhitelistBlacklist);\n\n    var restoreCount = keysToRestore.length;\n    if (restoreCount === 0) complete(null, restoredState);\n    keysToRestore.forEach(function (key) {\n      storage.getItem(createStorageKey(key), function (err, serialized) {\n        if (err && process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error restoring data for key:', key, err);else restoredState[key] = rehydrate(key, serialized);\n        completionCount += 1;\n        if (completionCount === restoreCount) complete(null, restoredState);\n      });\n    });\n  });\n\n  function rehydrate(key, serialized) {\n    var state = null;\n\n    try {\n      var data = deserialize(serialized);\n      state = transforms.reduceRight(function (subState, transformer) {\n        return transformer.out(subState, key);\n      }, data);\n    } catch (err) {\n      if (process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error restoring data for key:', key, err);\n    }\n\n    return state;\n  }\n\n  function complete(err, restoredState) {\n    onComplete(err, restoredState);\n  }\n\n  function passWhitelistBlacklist(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return false;\n    if (blacklist.indexOf(key) !== -1) return false;\n    return true;\n  }\n\n  function createStorageKey(key) {\n    return '' + keyPrefix + key;\n  }\n\n  if (typeof onComplete !== 'function' && !!Promise) {\n    return new Promise(function (resolve, reject) {\n      onComplete = function onComplete(err, restoredState) {\n        if (err) reject(err);else resolve(restoredState);\n      };\n    });\n  }\n}\n\nfunction defaultDeserialize(serial) {\n  return JSON.parse(serial);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/getStoredState.js\n// module id = 27\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = persistStore;\n\nvar _constants = require('./constants');\n\nvar _getStoredState = require('./getStoredState');\n\nvar _getStoredState2 = _interopRequireDefault(_getStoredState);\n\nvar _createPersistor = require('./createPersistor');\n\nvar _createPersistor2 = _interopRequireDefault(_createPersistor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// try to source setImmediate as follows: setImmediate (global) -> global.setImmediate -> setTimeout(fn, 0)\nvar genericSetImmediate = typeof setImmediate === 'undefined' ? global.setImmediate || function (fn) {\n  return setTimeout(fn, 0);\n} : setImmediate;\n\nfunction persistStore(store) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var onComplete = arguments[2];\n\n  // defaults\n  // @TODO remove shouldRestore\n  var shouldRestore = !config.skipRestore;\n  if (process.env.NODE_ENV !== 'production' && config.skipRestore) console.warn('redux-persist: config.skipRestore has been deprecated. If you want to skip restoration use `createPersistor` instead');\n\n  var purgeKeys = null;\n\n  // create and pause persistor\n  var persistor = (0, _createPersistor2.default)(store, config);\n  persistor.pause();\n\n  // restore\n  if (shouldRestore) {\n    genericSetImmediate(function () {\n      (0, _getStoredState2.default)(config, function (err, restoredState) {\n        // do not persist state for purgeKeys\n        if (purgeKeys) {\n          if (purgeKeys === '*') restoredState = {};else purgeKeys.forEach(function (key) {\n            return Reflect.deleteProperty(restoredState, key);\n          });\n        }\n\n        store.dispatch(rehydrateAction(restoredState, err));\n        complete(err, restoredState);\n      });\n    });\n  } else genericSetImmediate(complete);\n\n  function complete(err, restoredState) {\n    persistor.resume();\n    onComplete && onComplete(err, restoredState);\n  }\n\n  return _extends({}, persistor, {\n    purge: function purge(keys) {\n      purgeKeys = keys || '*';\n      persistor.purge(keys);\n    }\n  });\n}\n\nfunction rehydrateAction(payload) {\n  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  return {\n    type: _constants.REHYDRATE,\n    payload: payload,\n    error: error\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/persistStore.js\n// module id = 28\n// module chunks = 0","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport {ACTION_SWITCH_TO, ACTION_SET_COURSE} from \"../actions/course\"\nconst initial = {\n  course : null,\n  topic : null,\n  id : null,\n  title : null\n}\n\n\nexport const course = (state = initial, action) => {\n  switch(action.type) {\n    case ACTION_SET_COURSE : \n      return {course: action.course}\n    case ACTION_SWITCH_TO : \n      return {...state, topic : action.topic, id : action.id, title : action.title ? action.title : state.title}\n  }\n  return state\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/course.js","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport {ACTION_DRAW, ACTION_SET_COLOR, ACTION_CLEAR, ACTION_DRAW_SEGMENT} from \"redux/actions/draw\"\n\nimport {ACTION_SAVE, ACTION_COMPILE} from \"redux/actions/code\"\n\nlet socket = null\nexport function init_socket() {\n  window.socket = socket = io(\"ws://localhost:3006\")\n\n}\nexport const socket_recorder = store => next => action => {\n  \n  switch (action.type) {\n\n    case ACTION_DRAW  :\n      socket.emit(\"draw\", action)\n      break\n\n    case ACTION_CLEAR : \n      socket.emit(\"clear\", action)\n      break\n    case ACTION_DRAW_SEGMENT: \n      socket.emit(\"draw\", action)\n      break\n    case ACTION_SAVE:\n      socket.emit(\"save\", action)\n\n      break\n\n    case ACTION_COMPILE:\n      socket.emit(\"compile\", action)\n      break\n\n  }\n  \n  return next(action)\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/middlewares/socket_recorder.js","module.exports = (__webpack_require__(3))(225);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux-thunk/lib/index.js from dll-reference react_b1182dbd2380566b616d\n// module id = 31\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/stylus/main.styl\n// module id = 32\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  box-sizing: border-box;\\n  padding: 0;\\n  cursor: url(\" + require(\"./img/pen.png\") + \"), auto;\\n  margin: 0;\\n}\\n.menu {\\n  position: absolute;\\n  z-index: 5;\\n  background-color: #fff;\\n  top: 0;\\n  left: -290px;\\n  width: 300px;\\n  border-right: 10px solid #eee;\\n  padding-right: 20px;\\n  transition: left 0.3s ease;\\n}\\n.menu:hover {\\n  border-right: 1px solid #eee;\\n  left: 0;\\n}\\n.menu-item {\\n  color: #333;\\n  font-family: 'Microsoft YaHei';\\n}\\n.menu-item:hover {\\n  font-weight: bold;\\n}\\n.canvas {\\n  width: 100%;\\n  height: 100%;\\n}\\n.color {\\n  position: fixed;\\n  right: 0;\\n  bottom: 0;\\n}\\n.color div {\\n  float: left;\\n  width: 50px;\\n  height: 50px;\\n  border: 2px solid #eee;\\n}\\n.cleaner {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  padding: 10px;\\n  font-size: 20px;\\n  color: #666;\\n  border: 1px solid #eee;\\n}\\n.cleaner:hover {\\n  color: #333;\\n}\\n.eraser {\\n  position: absolute;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  border: 1px solid #000;\\n}\\n.pages {\\n  position: absolute;\\n  top: 20px;\\n  left: 50px;\\n}\\n.pages .page {\\n  margin-left: 5px;\\n  color: #000;\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-color: #efefef;\\n  line-height: 30px;\\n  text-align: center;\\n  color: #fff;\\n  float: left;\\n}\\n.title {\\n  position: absolute;\\n  left: calc(50% - 100px);\\n  font-size: 32px;\\n  opacity: 0.5;\\n  top: 20px;\\n  width: 300px;\\n  text-align: center;\\n  padding-bottom: 5px;\\n  border-bottom: 1px solid #a4ee97;\\n}\\n.editor {\\n  border: 1px solid #eee;\\n  margin: 40px;\\n  font-size: 28px;\\n  width: 70%;\\n  float: left;\\n  height: 100%;\\n  min-height: 800px;\\n  margin-top: 60px;\\n}\\n.options {\\n  position: absolute;\\n  top: 30px;\\n  left: 40px;\\n}\\n.options .option {\\n  float: left;\\n  margin-right: 10px;\\n  border: 2px solid #0f0;\\n  padding: 3px 10px;\\n}\\n.options .option:hover {\\n  background-color: #ffa;\\n}\\n.frame {\\n  width: 20%;\\n  float: left;\\n  margin-top: 60px;\\n  height: 100%;\\n  border: 1px solid #eee;\\n}\\n.CodeMirror {\\n  height: 800px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/stylus-loader!./app/stylus/main.styl\n// module id = 33\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 34\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/stylus/img/pen.png\n// module id = 35\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 36\n// module chunks = 0","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React, {Component} from 'react'\n\nimport {connect} from 'react-redux'\n\n\nimport {switch_to} from \"./redux/actions/course\"\nimport {save, compile} from \"./redux/actions/code\"\nconst getDimensions = () => {\n\n  const width = window.innerWidth\n    || document.documentElement.clientWidth\n    || document.body.clientWidth\n\n  const height = window.innerHeight\n    || document.documentElement.clientHeight\n    || document.body.clientHeight\n  return {\n    width,\n    height\n  }\n\n\n}\n\nfunction loading_data({course, topic, id}) {\n  function loading() {\n    const url = `/courses/${course}/${topic}/${id}.js`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n          resolve(data)\n        })\n        .catch(err => {\n          resolve(null)\n        })\n    })\n\n  }\n  return loading()\n\n}\nclass _Fiddle extends Component{\n\n  constructor(){\n    super()\n    this.state = {\n      content : null  \n    }\n  }\n  \n  componentDidMount(){\n    socket.on(\"compile-error\", function(msg){\n      console.error(msg)\n    }) \n    const _s = this\n    socket.on(\"compile-succ\", function(msg){\n      \n      _s.refs.frame.reload()\n      \n      \n    })\n  }\n  \n  componentWillMount(){\n    \n    this.reloading(this.props.course)\n  }\n  \n  reloading(course){\n    const _s = this\n    loading_data(course)\n      .then(data => {\n        _s.setState({\n          content : data || \"\"\n        }, () => {\n          _s.refs.editor.reload()\n        })  \n      })\n  }\n  \n  \n\n  componentWillReceiveProps(nextProps){\n\n    if(nextProps.course.course !== this.props.course.course\n      ||\n      nextProps.course.topic !== this.props.course.topic\n      ||\n\n      nextProps.course.id !== this.props.course.id\n    )\n    {\n      setTimeout( (() => {\n        this.reloading(nextProps.course)\n      }).bind(this), 20)\n    }\n  }\n  \n  _compile(){\n    const course = this.props.course\n    store.dispatch(compile(course.course, course.topic, course.id)) \n  }\n  \n  _save(){\n\n    this.refs.editor.saveCtx()\n  }\n  render(){\n    if(this.state.content === null) {\n      return null\n    }\n    return <div>\n\n      <div className=\"title\">{this.props.course.title}</div>\n\n      <div className=\"options\">\n        <div className=\"option\" onClick={this._compile.bind(this)} >RUN</div>\n        <div className=\"option\" onClick={this._save.bind(this)} >SAVE</div>\n      </div>\n      <CodeEditor course={this.props.course} initialContent={this.state.content} ref=\"editor\" />\n        \n      <Frame  course={this.props.course} ref=\"frame\" />\n    </div>\n    \n  }\n}\n\nclass Frame extends Component{\n\n  reload(){\n    this.refs.frame.contentWindow.location.reload()\n  }\n\n  render()\n  {\n    \n    const course = this.props.course\n    const src = \"/app?file=\" + course.course + \"_\" + course.topic + \"_\" + course.id\n    return <div className=\"frame\">\n\n      <iframe frameBorder=\"0\" src={src} ref=\"frame\"/>\n\n    </div>\n  }\n}\n\n\nclass CodeEditor extends Component {\n\n\n  reload(){\n    this.doc.setValue(this.props.initialContent)   \n  }\n\n  componentDidMount(){\n    this.doc = CodeMirror(this.refs.editor, {\n      value: this.props.initialContent,\n      mode:  \"javascript\",\n      cursorHeight : 1 \n    });\n\n    \n    // this.I = setInterval( this._saveCtx.bind(this), 1000)\n  }\n\n  compomentWillUnmount(){\n    clearInterval(this.I)\n  }\n  \n  saveCtx(){\n\n    const value = this.doc.getValue()\n    const course = this.props.course\n    store.dispatch(save(course.course, course.topic, course.id, value))\n    \n    console.log(value)\n  }\n  render(){\n    return <div ref=\"editor\" className=\"editor\"></div>\n  }\n}\n\n\nconst map = (state) => {\n  return {\n    course : state.course\n  }\n}\nexport let Fiddle = connect(map)(_Fiddle)\n\n\n// WEBPACK FOOTER //\n// ./app/Fiddle.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_SAVE = \"save@Fiddle\"\nexport const ACTION_COMPILE = \"compile@Fiddle\"\n\n\nexport const save = (course, topic, id, content) => {\n  return {\n    type : ACTION_SAVE,\n    course,\n    topic,\n    id,\n    content \n  }\n}\n\n\nexport const compile = (course, topic, id) => {\n  return {\n    type : ACTION_COMPILE,\n    course,\n    topic,\n    id,\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/code.js"],"sourceRoot":""}