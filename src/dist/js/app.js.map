{"version":3,"sources":["webpack:///webpack/bootstrap 012079b4c5c6ca7a4fa1","webpack:///delegated ./node_modules/babel-polyfill/lib/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///external \"react_7de69c5da675c4deed75\"","webpack:///./app/main.js","webpack:///delegated ./node_modules/react/react.js from dll-reference react_7de69c5da675c4deed75","webpack:///delegated ./node_modules/react-dom/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///delegated ./node_modules/react-redux/lib/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///delegated ./node_modules/url-parse/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///delegated ./node_modules/qs/lib/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///./app/menu.js","webpack:///./app/redux/actions/course.js","webpack:///./app/Blackboard.js","webpack:///./app/redux/actions/draw.js","webpack:///./app/util/dimensions.js","webpack:///./app/data/apis.js","webpack:///./app/Dropbox.js","webpack:///./app/Markdown.js","webpack:///./app/Fiddle.js","webpack:///./app/redux/actions/code.js","webpack:///./app/redux/store/init.js","webpack:///delegated ./node_modules/redux/lib/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///./~/redux-persist/lib/index.js","webpack:///./~/redux-persist/lib/defaults/asyncLocalStorage.js","webpack:///./~/timers-browserify/main.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///delegated ./node_modules/process/browser.js from dll-reference react_7de69c5da675c4deed75","webpack:///./~/redux-persist/lib/autoRehydrate.js","webpack:///./~/redux-persist/lib/constants.js","webpack:///./~/redux-persist/lib/utils/isStatePlainEnough.js","webpack:///delegated ./node_modules/lodash/isPlainObject.js from dll-reference react_7de69c5da675c4deed75","webpack:///./~/redux-persist/lib/createPersistor.js","webpack:///./~/redux-persist/lib/purgeStoredState.js","webpack:///./~/json-stringify-safe/stringify.js","webpack:///./~/redux-persist/lib/createTransform.js","webpack:///./~/redux-persist/lib/getStoredState.js","webpack:///./~/redux-persist/lib/persistStore.js","webpack:///./app/redux/reducers/course.js","webpack:///./app/redux/middlewares/socket_recorder.js","webpack:///./app/redux/middlewares/browser_hash.js","webpack:///delegated ./node_modules/redux-thunk/lib/index.js from dll-reference react_7de69c5da675c4deed75","webpack:///./app/stylus/main.styl?c489","webpack:///./app/stylus/main.styl","webpack:///./~/css-loader/lib/css-base.js","webpack:///./app/stylus/img/pen.png","webpack:///./~/style-loader/addStyles.js"],"names":["loading_content","name","loading","url","Promise","resolve","reject","$","get","data","format_menu","lines","split","map","l","trim","filter","length","x","f","others","join","k","n","title","type","match","replace","level","topic","Main","window","location","href","state","content","store","getState","course","id","promise","then","dispatch","menuItem","find","setState","Component","_App","item","props","widget","y","w","width","h","height","renderPanel","_add_code","bind","_add_md","_add_audio","App","render","document","getElementById","Menu","paddingLeft","fontSize","paddingTop","paddingBottom","cursor","_switch","itemStyle","styles","container","borderRight","ACTION_SET_COURSE","ACTION_SWITCH_TO","set_course","switch_to","_Blackboard","console","log","lastX","lastY","colors","color","penSize","_keydown","addEventListener","redraw_data","line","JSON","parse","_draw","ctx","refs","canvas","getContext","_clear","_redraw","clearInterval","I","removeEventListener","idx","indexOf","ndx","event","key","_pick","setInterval","saveWidgets","_reloading","widgets","nextProps","setTimeout","draw","_loaded","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","clientX","clientY","tell_back_end","clearRect","_mouseMove","_mouseUp","_mouseDown","_renderWidgets","backgroundColor","top","left","ColorPicker","pick","c","borderColor","Blackboard","ACTION_DRAW","ACTION_DRAW_SEGMENT","ACTION_CLEAR","draw_segment","clear","getDimensions","innerWidth","documentElement","clientWidth","body","innerHeight","clientHeight","catch","loading_data","url1","all","e","Dropbox","style","zIndex","draging","mode","_drag","_dragend","dw","Math","abs","pageX","dn","pageY","de","ds","th","stopPropagation","preventDefault","X","Y","xDiff","startX","yDiff","startY","startState","_dispatch_change","dragCount","dragI","nStyle","_dragstart","_go","_delete","cloneElement","children","Markdown","markdown","Editor","raw","toHTML","show_editor","save","textarea","value","html","target","display","_toggle","_input","__html","Fiddle","show_code","show_html","socket","on","msg","error","_s","frame","reload","reloading","editor","saveCtx","_compile","_toggleCode","_toggleHtml","Frame","contentWindow","p","src","CodeEditor","doc","setValue","initialContent","CodeMirror","cursorHeight","getValue","ACTION_SAVE","ACTION_COMPILE","compile","init","reducers","reducer","query","initial","add_widget","newState","push","change_widget","widget_id","delete_widget","action","init_socket","io","socket_recorder","emit","next","browser_hash","history","pushState"],"mappings":"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AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,0HAAyH,2BAA2B;AACpJ;;AAEA;AACA,iEAAgE,gDAAgD;AAChH,qEAAoE,kDAAkD;AACtH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6B;;;;;;ACpDA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB,oBAAoB;AAC7C;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,uDAAsD;AACtD;AACA;AACA,2DAA0D;AAC1D;AACA,E;;;;;;;ACtHA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;;ACzLD,8C;;;;;;ACAA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;;AAEA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAwE;AACxE;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B;;AAE5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2IAA0I,iCAAiC;AAC3K,4CAA2C;;AAE3C;AACA,IAAG;AACH;AACA,E;;;;;;ACzFA;;AAEA;AACA;AACA,EAAC;AACD;AACA,yD;;;;;;ACNA;;AAEA;AACA;AACA,EAAC;;AAED,qGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACvBA,gD;;;;;;ACAA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA,+CAA8C,yCAAyC;AACvF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;;AC/KA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;AC/CA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AC1BA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,mC;;;;;;AC3BA;;AAEA;AACA;AACA,EAAC;;AAED,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAgE,YAAY,2BAA2B;;AAEvG;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,iJAAgJ;AAChJ;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;A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,wBAAwB,GAAG,iGAAiG,wBAAwB,qCAAqC,gBAAgB,GAAG,yBAAyB,sBAAsB,GAAG,yBAAyB,sBAAsB,GAAG,yBAAyB,sBAAsB,GAAG,yBAAyB,sBAAsB,GAAG,iDAAiD,uBAAuB,GAAG,0BAA0B,iBAAiB,kBAAkB,8BAA8B,GAAG,UAAU,oBAAoB,cAAc,GAAG,qBAAqB,gBAAgB,iBAAiB,uBAAuB,sBAAsB,mBAAmB,gBAAgB,GAAG,6BAA6B,gBAAgB,GAAG,uBAAuB,oBAAoB,GAAG,mBAAmB,gBAAgB,GAAG;;AAE73I;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA,kCAAiC,4+D;;;;;;ACAjC;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 012079b4c5c6ca7a4fa1","module.exports = (__webpack_require__(2))(226);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/babel-polyfill/lib/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 1\n// module chunks = 0","module.exports = react_7de69c5da675c4deed75;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react_7de69c5da675c4deed75\"\n// module id = 2\n// module chunks = 0","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport React, {Component} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Provider} from 'react-redux'\n\nimport URL from 'url-parse'\nimport qs from 'qs'\nimport {Menu} from \"./menu\"\nimport {Blackboard} from \"./Blackboard\"\n\nimport {init} from \"redux/store/init\"\nimport {init_socket} from 'redux/middlewares/socket_recorder'\n\nimport \"./stylus/main.styl\"\n\nimport {set_course, switch_to} from \"./redux/actions/course\"\n\nimport {Fiddle} from \"./Fiddle\"\nimport {Markdown} from \"./Markdown\"\nimport {connect} from 'react-redux'\nimport {getDimensions} from \"util/dimensions\"\n\nfunction loading_content(name) {\n  function loading() {\n    const url = `/courses/${name}.content`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n        resolve(data)\n      })\n    })\n\n  }\n  return loading(name)\n\n}\n\n\nfunction format_menu(data){\n\n  let lines = data.split(\"\\n\").map(l => l.trim())\n  lines = lines.filter(l => l.length > 1)\n  lines = lines.map(l => l.split(/[\\t ]/).map(x=>x.trim()))\n    .map(([f, ...others]) => {\n      const join = others.filter(k => k.length > 0).join(\" \")\n      return [f, join]\n    })\n\n  lines = lines.map(([n, title]) => {\n    let type = \"blackboard\"\n    if(title.match(/\\[code\\]/)) {\n      title = title.replace(\"[code]\", \"\")\n      type = 'code'\n    }\n    else if(title.match(/\\[markdown\\]/)) {\n      title = title.replace(\"[markdown]\", \"\")\n      type = 'blackboard&markdown'\n    }\n    return {\n      level : n.replace(\".\", \"\").length,\n      topic : n,\n      title,\n      type\n    }\n  })\n\n\n  return lines\n\n}\n\n\n\n\nexport class Main extends React.Component{\n  constructor(){\n    super()\n    const url = new URL(window.location.href)\n    // this.query = qs.parse(url.query.replace(\"?\", \"\")) || {}\n    // if(!this.query.course){\n    //   this.query.course = 'demo'\n    // }\n    this.state = {\n      content : null,\n      store : init()\n    }\n    init_socket()\n\n  }\n  componentWillMount(){\n    const {course, topic, id} = store.getState().course\n    const promise = loading_content(course)\n    promise.then(data => {\n      store.dispatch(set_course(course))\n\n      const content = format_menu(data)\n\n      // find topic \n      \n      if(!(topic && id)){\n        store.dispatch(switch_to(content[0].topic, 1 , content[0].title))\n      } else {\n\n        const menuItem = content.find(x => x.topic == topic)\n        store.dispatch(switch_to(topic, id , menuItem.title))\n      }\n      \n      this.setState({content})\n    })\n  }\n\n\n\n  render(){\n    const {content, store} = this.state\n    if(!content) {\n      return null\n    }\n\n    const course = store.getState().course\n    return <Provider store={store}>\n        <div>\n          <Menu content={content} course={course.course} />\n\n          <App content={content}/>\n        </div>\n    </Provider>\n  }\n}\n\n\nclass _App extends Component{\n\n  renderPanel(course){\n    const item = this.props.content.find(x => x.topic === course.topic)\n    return <Blackboard />\n    /*\n    if(item.type === 'blackboard'){\n      return <Blackboard />\n    }\n    else if(item.type === \"code\") {\n      return <Fiddle />\n    }\n    else if(item.type === \"blackboard&markdown\") {\n\n      return [<Blackboard key=\"1\" />, <Markdown  key=\"2\" />]\n    }\n    */\n  }\n  \n  _add_code(){\n    \n    const {course, topic, id} = this.props.course\n\n    store.dispatch({\n      type : \"ADD_WIDGET\",\n      widget : {type : \"code\", x : 80, y : 80, w : getDimensions().width - 160, h : getDimensions().height - 160},\n      topic,\n      id,\n    })\n  }\n  \n  _add_md(){\n     \n    const {course, topic, id} = this.props.course\n\n    store.dispatch({\n      type : \"ADD_WIDGET\",\n      widget : {type : \"markdown\", x : 80, y : 80, w : (getDimensions().width - 160) * 0.6 , h : (getDimensions().height - 160) * 0.6},\n      topic,\n      id,\n    })\n  }\n  \n  _add_audio(){\n\n\n    const {course, topic, id} = this.props.course\n\n    store.dispatch({\n      type : \"ADD_WIDGET\",\n      widget : {type : \"audio\", x : 80, y : 80, w : 150 , h : 40},\n      topic,\n      id,\n    })\n  }\n  render(){\n    return <div>\n      {this.renderPanel(this.props.course)}\n      <div className=\"tools\">\n        \n        <div className=\"tools-btn\" onClick={this._add_code.bind(this)}>\n          <i className=\"material-icons\">code</i>\n        </div>\n        <div className=\"tools-btn\" onClick={this._add_md.bind(this)} >\n          <i className=\"material-icons\">subject</i>\n        </div>\n        <div className=\"tools-btn\" onClick={this._add_audio.bind(this)} >\n          <i className=\"material-icons\">mic</i>\n        </div>\n        \n      </div>\n    </div>\n  }\n}\n\nconst map = state => {\n  return {\n    course : state.course\n  }\n\n}\nlet App =  connect(map)(_App)\n\n\n\n\nReactDOM.render(\n\n  <Main />,\n  document.getElementById(\"app\")\n)\n\n\n\n// WEBPACK FOOTER //\n// ./app/main.js","module.exports = (__webpack_require__(2))(1);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react/react.js from dll-reference react_7de69c5da675c4deed75\n// module id = 4\n// module chunks = 0","module.exports = (__webpack_require__(2))(32);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-dom/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 5\n// module chunks = 0","module.exports = (__webpack_require__(2))(208);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-redux/lib/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 6\n// module chunks = 0","module.exports = (__webpack_require__(2))(183);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/url-parse/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 7\n// module chunks = 0","module.exports = (__webpack_require__(2))(178);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/qs/lib/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 8\n// module chunks = 0","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React,{Component} from 'react'\n\nimport {\n  switch_to\n} from \"./redux/actions/course\"\n\nexport class Menu extends Component {\n\n  itemStyle(level) {\n    return {\n      paddingLeft : (level - 1) * 10 + \"px\",\n      fontSize : (20 - (level)) + 'px',\n      paddingTop : 10,\n      paddingBottom : 10,\n      cursor : 'pointer'\n    }\n  }\n  \n  \n  _switch(topic, title) {\n    store.dispatch(switch_to(topic, 1, title))\n  }\n\n  render(){\n    const {content, course} = this.props\n\n    return (\n      <div className=\"menu\">\n        {content.map( ({topic, title, level}) => {\n          return <div \n            onClick={ () => this._switch(topic, title)}\n            className=\"menu-item\" key={topic} style={this.itemStyle(level)}>{title}</div>\n        })}\n      </div>\n    )\n\n  }\n}\n\nconst styles = {\n  container : {\n    borderRight : '1px solid #eee',\n    width : '200px' \n    \n  }  \n}\n\n\n// WEBPACK FOOTER //\n// ./app/menu.js","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_SET_COURSE = \"set_course@Blackboard\"\nexport const ACTION_SWITCH_TO = \"switch_to@Blackboard\"\n\nexport const set_course = (course) => {\n  return {\n    type : ACTION_SET_COURSE,\n    course: course \n  }  \n}\n\nexport const switch_to = (topic, id, title ) => {\n  return {\n    type : ACTION_SWITCH_TO,\n    topic,\n    id,\n    title\n  }\n  \n} \n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/course.js","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React, {Component} from 'react'\n\nimport {connect} from 'react-redux'\n\n\nimport {switch_to} from \"./redux/actions/course\"\nimport {draw, clear, draw_segment} from \"./redux/actions/draw\"\n\n\nimport {getDimensions} from 'util/dimensions'\n\nimport {loading_data} from 'data/apis'\n\nimport {Dropbox} from \"Dropbox\"\nimport {Markdown} from \"Markdown\"\nimport {Fiddle} from \"Fiddle\"\n\nclass _Blackboard extends Component{\n\n  constructor(props){\n    super()\n\n    console.log(props)\n\n    this.lastX = null\n    this.lastY = null\n\n    this.state = {\n      colors : [\n        \"white\",\n        \"#333\",\n        \"red\",\n        \"yellow\",\n        \"green\",\n        \"blue\"\n      ],\n      color : \"#333\",\n      penSize : 5,\n      x : null,\n      y : null,\n      loading : true\n    }\n\n    this._keydown = this._keydown.bind(this)\n\n\n    document.addEventListener(\"keydown\",this._keydown)\n\n  }\n\n\n  _redraw(){\n    let lines = this.redraw_data\n    if(lines) {\n      lines = lines.split(\"\\n\").filter(line => line.length > 1).map(JSON.parse)\n      lines.map(({x, y, color, penSize}) => {\n        if(!x) {\n          this.lastX = null\n          this.lastY =  null\n        }else {\n          this._draw(this.ctx, color, x * 2, y * 2, penSize)\n        }\n      })\n\n    }\n    this.lastX = null\n    this.lastY =  null\n\n  }\n  _loaded(){\n\n    this.lastX = null\n    this.lastY = null\n    this.refs.canvas.width = getDimensions().width * 2\n    this.refs.canvas.height = getDimensions().height * 2\n    this.ctx = this.refs.canvas.getContext(\"2d\")\n    this._clear(false)\n    this._redraw()\n\n  }\n\n  componentWillUnmount(){\n\n\n    clearInterval(this.I)\n    document.removeEventListener(\"keydown\",this._keydown)\n  }\n\n  _keydown() {\n    if(this.state.loading) {return}\n    const idx = this.state.colors.indexOf(this.state.color)\n\n    let ndx = null\n    if(event.key === 'ArrowLeft') {\n      ndx = idx - 1\n      if(ndx < 0 ) {\n        ndx = this.state.colors.length - 1\n      }\n\n\n      this._pick(this.state.colors[ndx])\n    } else if (event.key === \"ArrowRight\") {\n      ndx = idx + 1\n      if(ndx > this.state.colors.length - 1 ) {\n        ndx = 0\n      }\n\n      this._pick(this.state.colors[ndx])\n      // this.setState({color : this.state.colors[ndx]})\n    } else {\n\n      this._pick(this.state.colors[idx])\n    }\n  }\n\n\n\n  componentDidMount(){\n\n    this.I = setInterval(this.saveWidgets.bind(this), 1000)\n    this._reloading()\n  }\n\n  saveWidgets(){\n    const topic = this.props.course.topic\n    const id = this.props.course.id\n    if(this.state.loading) {\n      return\n    }\n    if(this.props.course.widgets[topic]) {\n\n      store.dispatch({\n        type: \"SAVE_WIDGET\",\n        course: this.props.course.course,\n        topic: this.props.course.topic,\n        id: this.props.course.id\n        // widgets: this.props.course.widgets[topic][id]\n      })\n    }\n    \n  }\n\n  componentWillReceiveProps(nextProps){\n\n\n    if(nextProps.course.course !== this.props.course.course\n      ||\n      nextProps.course.topic !== this.props.course.topic\n      ||\n\n      nextProps.course.id !== this.props.course.id\n    )\n    {\n      setTimeout( (() => {\n        this._reloading()\n      }).bind(this), 20)\n    }\n  }\n\n\n\n  _reloading() {\n    loading_data (this.props.course)\n      .then( (({draw, widgets}) => {\n          setTimeout( () => {\n            widgets.map(widget => {\n              store.dispatch({\n                type : \"ADD_WIDGET\",\n                widget,\n                topic : this.props.course.topic,\n                id : this.props.course.id\n              })\n            })\n          }, 0)\n\n\n\n          this.redraw_data = draw\n          this.setState({\n            loading : false,\n          }, this._loaded.bind(this))\n\n\n        }).bind(this)\n      )\n  }\n  _mouseDown(){\n\n    this.draw = true\n  }\n\n  _draw(ctx,color, x, y, penSize) {\n\n    if(this.lastX && this.lastY) {\n\n      ctx.beginPath()\n      ctx.strokeStyle=color\n      ctx.lineWidth = penSize\n      ctx.moveTo(this.lastX, this.lastY)\n      ctx.lineTo(x, y)\n      ctx.stroke()\n    }\n\n    this.lastX = x\n    this.lastY = y\n\n\n  }\n\n  _mouseMove(event){\n\n    const x = event.clientX\n    const y = event.clientY\n\n\n    if(this.draw) {\n      const course = this.props.course\n      store.dispatch(draw(course.course, course.topic, course.id, x, y, this.state.color, this.state.penSize))\n      this._draw(this.ctx, this.state.color, x * 2, y * 2, this.state.penSize)\n    }\n    this.setState({\n      x,\n      y\n    })\n\n\n  }\n\n  _mouseUp(){\n    this.draw = false\n    this.lastX = null\n    this.lastY =  null\n    store.dispatch(draw_segment(\n      this.props.course.course,\n      this.props.course.topic,\n      this.props.course.id\n    ))\n\n  }\n\n  _pick(color){\n    if(color === 'white') {\n\n      this.setState({\n        color,\n        penSize : 100\n      })\n\n    }\n    else {\n      this.setState({\n        color,\n        penSize : 5\n      })\n    }\n\n  }\n\n  _clear(tell_back_end = true){\n    if(tell_back_end) {\n\n      store.dispatch(clear(this.props.course.course, this.props.course.topic, this.props.course.id))\n    }\n    this.ctx.clearRect(0, 0, getDimensions().width * 2, getDimensions().height * 2)\n  }\n  \n  \n\n  _switch(id) {\n    this._clear(false)\n    store.dispatch(switch_to(this.props.course.topic, id))\n\n  }\n\n  _renderWidgets(){\n\n\n    const topic = this.props.course.topic\n    const id = this.props.course.id\n    if(!this.props.course.widgets[topic]){\n      return null\n    }\n    \n    const widgets = this.props.course.widgets[topic][id]\n    if(!widgets){\n      return null\n      \n    }\n    \n    return widgets.map(widget => {\n      \n      switch(widget.type) {\n        case \"markdown\":\n          return <Dropbox key={widget.id} course={this.props.course} widget={widget}>\n            <Markdown course={this.props.course} widget={widget} />\n          </Dropbox>\n        case \"code\":\n          return <Dropbox key={widget.id} course={this.props.course} widget={widget}>\n            <Fiddle course={this.props.course} widget={widget} />\n          </Dropbox>\n\n        \n      }  \n    })\n    console.log(\"@Blckboard _renderWidgets()\")\n    console.log(widgets)\n\n  }\n\n\n  render(){\n    const { colors, color, x, y, loading } = this.state\n    // console.log(\"@Blackboard render\")\n\n    if(loading) { return null}\n    const {course} = this.props\n\n    return <div\n      onMouseMove={this._mouseMove.bind(this)}\n      onMouseUp={this._mouseUp.bind(this)}\n      onMouseDown={this._mouseDown.bind(this)}\n    >\n\n      {this._renderWidgets()}\n\n      <div className=\"title\">{course.title}</div>\n      <div id=\"pages\" className=\"pages\">\n        {\n          [1, 2, 3, 4, 5, 6, 7, 8, 9].map(x => {\n            return <div key={x} onClick={() => this._switch(x)} style={{backgroundColor : x ==course.id ? \"#31d22e\" : \"#f2f3f4\"}} className=\"page\">{x}</div>\n          })\n        }\n\n      </div>\n      <div className=\"cleaner\" onClick={this._clear.bind(this)}>清空</div>\n\n      {color === 'white' &&\n      <div className=\"eraser\" style={{top : (y - 25) + \"px\", left : (x - 25) + \"px\"}}></div>\n      }\n\n      <ColorPicker pick={this._pick.bind(this)} colors={colors} color={color} />\n\n      <canvas className='canvas'\n              ref=\"canvas\"\n\n      />\n\n    </div>\n  }\n}\n\n\n\nconst ColorPicker = ({pick, colors, color}) => {\n  return (\n    <div className=\"color\">\n      {colors.map(c => {\n        return <div key={c}\n                    onClick={() => pick(c)}\n                    className={c === 'white' ? 'white' : ''}\n                    style={{backgroundColor : c, borderColor : color == c ? 'black' : \"#eee\"}} ></div>\n      })}\n\n    </div>\n  )\n}\n\n\nconst map = (state) => {\n  return {\n    course : state.course\n  }\n}\nexport let Blackboard = connect(map)(_Blackboard)\n\n\n// WEBPACK FOOTER //\n// ./app/Blackboard.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_DRAW = \"draw@Blackboard\"\nexport const ACTION_DRAW_SEGMENT = \"draw_seg@Blackboard\"\nexport const ACTION_CLEAR = \"clear@Blackboard\"\n\n\nexport const draw = (course, topic, id, x, y, color, penSize) => {\n  return {\n    type : ACTION_DRAW,\n    course,\n    topic,\n    id,\n    x, \n    y,\n    color,\n    penSize\n  }\n}\n\n\nexport const draw_segment = (course, topic, id) => {\n  return {\n    type : ACTION_DRAW_SEGMENT,\n    course,\n    topic,\n    id,\n  }\n}\n\n\n// export const set_color = (course, topic, id, color) => {\n//   return {\n//     type : ACTION_SET_COLOR,\n//     course,\n//     topic,\n//     id,\n//     color : color\n//   }\n// }\n\nexport const clear = (course, topic, id) => {\n  return {\n    course,\n    topic,\n    id,\n    type : ACTION_CLEAR \n  }  \n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/draw.js","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nexport const getDimensions = () => {\n\n  const width = window.innerWidth\n    || document.documentElement.clientWidth\n    || document.body.clientWidth\n\n  const height = window.innerHeight\n    || document.documentElement.clientHeight\n    || document.body.clientHeight\n  return {\n    width,\n    height\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/util/dimensions.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\n\nconst get = (url) => {\n  return new Promise((resolve, reject) => {\n    $.get(url, data => {\n        resolve(data)\n      })\n      .catch(err => {\n        resolve(null)\n      })\n  })\n}\n\nexport const loading_data = async ({course, topic, id}) => {\n\n  const url = `/courses/${course}/${topic}/${id}.log`\n  const url1 = `/courses/${course}/${topic}/${id}.widget`\n\n  const data = await Promise.all([\n    get(url),\n    get(url1)\n  ])\n  \n  \n  /// TODO 调试返回数据\n  \n  let widgets = [] \n  if(!data[1]) {\n    widgets = [\n      // {type : \"code\", x : 100, y : 100, w : 300, h : 300},\n      // {type : \"markdown\", x : 300, y : 100, w : 300, h : 300}\n    ] \n  } else {\n    try{\n      widgets = JSON.parse(data[1])\n    }\n    catch(e) {\n     /// TODO \n    }\n  }\n  return {\n    draw : data[0],\n    widgets\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/data/apis.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport React, {Component} from 'react'\n\nexport class Dropbox extends Component{\n\n  constructor({widget : {x, y, w, h}}){\n    super()\n\n    this.state = {\n      style : {\n        x,\n        y,\n        w,\n        h,\n        zIndex : 10,\n        cursor : null\n      },\n      draging : false\n    }\n\n    this.mode = null\n    this._drag = this._drag.bind(this)\n    this._dragend = this._dragend.bind(this)\n  }\n\n  componentDidMount(){\n    document.body.addEventListener(\"mousemove\", this._drag)\n    document.body.addEventListener(\"mouseup\", this._dragend)\n  }\n\n  componentWillUnmount(){\n\n\n    document.body.removeEventListener(\"mouseup\", this._dragend)\n    document.body.removeEventListener(\"mousemove\", this._drag)\n  }\n\n\n  _dispatch_change(){\n    store.dispatch({\n      type: \"CHANGE_WIDGET\",\n      topic: this.props.course.topic,\n      id: this.props.course.id,\n      widget: this.props.widget,\n      x: this.state.style.x,\n      y: this.state.style.y,\n      w: this.state.style.w,\n      h: this.state.style.h\n    })\n  }\n\n  _drag(event){\n\n\n    //// 判断是否算作调整大小\n    // console.log(event.pageY, event.pageY, event.pageY)\n\n\n    if(!this.state.draging) {\n\n      const dw = Math.abs(event.pageX - this.state.style.x)\n      const dn = Math.abs(event.pageY - this.state.style.y)\n      const de = Math.abs(event.pageX - (this.state.style.x + this.state.style.w))\n      const ds = Math.abs(event.pageY - (this.state.style.y + this.state.style.h))\n      const th = 10\n\n\n      if(dw < th && dn < th) {\n        this.mode = 'nw-resize'\n      }\n      else if (dn < th && de < th) {\n        this.mode = \"ne-resize\"\n      } else if(de < th && ds < th) {\n        this.mode = 'se-resize' \n      } else if(ds < th && dw < th) {\n        this.mode = \"sw-resize\"\n      }\n      else if (dw < th) {\n        this.mode = 'w-resize'\n      }\n      else if (dn < th) {\n        this.mode = 'n-resize'\n      }\n      else if (de < th) {\n        this.mode = 'e-resize'\n      }\n      else if (ds < th) {\n        this.mode = 's-resize'\n      }\n      else {\n\n        this.mode = 'drag-drop'\n      }\n\n\n\n      if(this.mode != 'drag-drop') {\n        console.log('change cursor to:' + this.mode)\n        document.getElementById(\"app\").style.cursor = this.mode\n      }else{\n        document.getElementById(\"app\").style.cursor =\"\"\n      }\n\n      return\n    }\n\n    event.stopPropagation()\n    event.preventDefault()\n    console.log(this.mode)\n\n    if (this.X && this.Y) {\n\n      const xDiff = this.X - this.startX\n      const yDiff = this.Y - this.startY\n       console.log(xDiff, yDiff)\n\n      if(this.mode === 'nw-resize') {\n\n        this.setState({\n          style : {\n            ...this.state.style,\n            x : this.startState.x + xDiff,\n            y : this.startState.y + yDiff,\n            w : this.startState.w - xDiff,\n            h : this.startState.y - yDiff\n          }\n        }, (() => {\n\n          this._dispatch_change()\n        }).bind(this))\n\n      } else if(this.mode == \"ne-resize\") {\n        this.setState({\n          style : {\n            ...this.state.style,\n            y : this.startState.y + yDiff,\n            w : this.startState.w + xDiff,\n            h : this.startState.y - yDiff\n          }\n        }, (() => {\n\n          this._dispatch_change()\n        }).bind(this))\n\n\n      } else if (this.mode == \"se-resize\") {\n        this.setState({\n          style : {\n            ...this.state.style,\n            w : this.startState.w + xDiff,\n            h : this.startState.y + yDiff\n          }\n        }, (() => {\n\n          this._dispatch_change()\n        }).bind(this))\n        \n      } else if (this.mode == 'sw-resize') {\n\n        this.setState({\n          style : {\n            ...this.state.style,\n            x : this.startState.x + xDiff,\n            w : this.startState.w - xDiff,\n            h : this.startState.y + yDiff\n          }\n        }, (() => {\n\n          this._dispatch_change()\n        }).bind(this))\n      }\n\n      else if(this.mode === 'w-resize') {\n        this.setState({\n          style : {\n            ...this.state.style,\n            x : this.startState.x + xDiff,\n            w : this.startState.w - xDiff\n          }\n\n        }, (() => {\n\n          this._dispatch_change()\n        }).bind(this))\n      }\n      else if(this.mode === 'n-resize') {\n        this.setState({\n          style : {\n            ...this.state.style,\n            y : this.startState.y + yDiff,\n            h : this.startState.h - yDiff\n          }\n\n        }, (() => {\n          this._dispatch_change()\n        }).bind(this))\n      }\n      else if(this.mode === 'e-resize') {\n        this.setState({\n          style : {\n            ...this.state.style,\n            w : this.startState.w + xDiff\n          }\n\n        }, (() => {\n          this._dispatch_change()\n        }).bind(this))\n      }\n      else if(this.mode === 's-resize') {\n        this.setState({\n          style : {\n            ...this.state.style,\n            h : this.startState.h + yDiff\n          }\n\n        }, (() => {\n          this._dispatch_change()\n        }).bind(this))\n      }\n\n\n\n      else if(this.mode === 'drag-drop') {\n\n\n        this.setState({\n          style: {\n            ...this.state.style,\n            x: this.startState.x + xDiff,\n            y: this.startState.y + yDiff\n          }\n        }, (() => {\n          this._dispatch_change()\n\n        }).bind(this))\n      }\n\n    }\n    this.X = event.pageX\n    this.Y = event.pageY\n\n  }\n  _dragstart(event){\n\n    this.startX = event.pageX\n    this.startY = event.pageY\n    this.startState = {...this.state.style}\n    this.dragCount = 0\n    this.dragI = setInterval( (() => {\n      this.dragCount ++\n      if(this.dragCount > 20) {\n        clearInterval(this.dragI)\n        this.setState({\n          draging : true\n        })\n      }\n    }).bind(this), 10)\n  }\n  _dragend() {\n    this.mode = null\n    clearInterval(this.dragI)\n    this.setState({\n      draging : false\n    })\n  }\n  _delete(){\n    store.dispatch({\n      type : \"DELETE_WIDGET\",\n      course : this.props.course.course,\n      topic : this.props.course.topic,\n      id : this.props.course.id,\n      widget : this.props.widget\n\n    })\n\n  }\n\n  _go(n) {\n    \n    return (() => {\n      \n      let zIndex = this.state.style.zIndex + n\n      if(zIndex < 10) {\n        zIndex = 10\n      }\n      this.setState({style : {...this.state.style, zIndex}})\n      \n    }).bind(this)\n    \n  }\n\n\n  _cursor(){\n\n  }\n  render(){\n    const {style,cursor, zIndex} = this.state\n\n    const borderColor = this.state.draging ? \"black\" : \"#eee\"\n\n    const nStyle = {top : style.y + \"px\", width : style.w + \"px\", height : style.h + \"px\", left : style.x+'px', borderColor : borderColor, zIndex : style.zIndex}\n\n\n    return <div\n      ref=\"dropbox\"\n      className=\"dropbox\" style={nStyle}\n      onMouseDown={this._dragstart.bind(this)}\n    >\n      <div className=\"delete\" >\n        <i className=\"material-icons\" onClick={this._go(1)}>arrow_upward</i>\n        <i className=\"material-icons\" onClick={this._go(-1)}>arrow_downward</i>\n        <i className=\"material-icons\" onClick={this._delete.bind(this)}>delete</i>\n      </div>\n      {React.cloneElement(this.props.children, {style})}\n    </div>\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Dropbox.js","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React, {Component} from 'react'\n\nimport {connect} from 'react-redux'\n\n\n\n\nimport {switch_to} from \"./redux/actions/course\"\nimport {draw, clear, draw_segment} from \"./redux/actions/draw\"\nimport {getDimensions} from \"util/dimensions\"\n\nfunction loading_data({course, topic, id}, widget) {\n  function loading() {\n    const url = `/courses/${course}/${topic}/${id}_${widget.id}.md`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n          resolve(data)\n        })\n        .catch(err => {\n          resolve(null)\n        })\n    })\n\n  }\n  return loading()\n}\n\n\n\nexport class Markdown extends Component{\n\n  constructor(props){\n    super()\n    this.state = {\n      markdown : null,\n      loading : true\n    }\n  }\n\n  componentDidMount(){\n\n    loading_data(this.props.course, this.props.widget)\n      .then(data => {\n\n        this.setState({\n          markdown : data,\n          loading : false\n        })\n      })\n  }\n\n\n\n  componentWillReceiveProps(nextProps){\n\n\n    if(nextProps.course.course !== this.props.course.course\n      ||\n      nextProps.course.topic !== this.props.course.topic\n      ||\n\n      nextProps.course.id !== this.props.course.id\n    )\n    {\n      setTimeout( (() => {\n        this._reloading()\n      }).bind(this), 20)\n    }\n  }\n\n\n\n\n  _reloading() {\n    loading_data (this.props.course)\n      .then( (data => {\n        this.setState({\n          loading : false,\n          markdown : data\n        })\n\n      }).bind(this))\n\n  }\n\n  render(){\n    if(this.state.loading){\n      return null\n    }\n    return <Editor key=\"1\" {...this.props} raw={this.state.markdown} />\n  }\n}\n\nclass Editor extends Component{\n  constructor(props){\n    super()\n    this.state = {\n      raw : props.raw || \"\",\n      content : markdown.toHTML(props.raw || \"\"),\n      show_editor : false \n    }\n\n  }\n\n  save(){\n\n    const {course, topic, id} = this.props.course\n    const {widget} = this.props\n    store.dispatch({\n      type : \"SAVE_MARKDOWN\",\n      course,\n      topic,\n      id,\n      widget,\n      markdown : this.state.raw\n\n    })\n\n  }\n  componentDidMount(){\n\n    this.I = setInterval(this.save.bind(this), 1000)\n    this.refs.textarea.value = this.state.raw\n  }\n  componentWillUnmount(){\n    clearInterval(this.I)\n  }\n\n  _input(event){\n\n    const html = markdown.toHTML(event.target.value)\n    this.setState({\n      raw : event.target.value,\n      content : html\n    })\n\n  }\n\n  _toggle(){\n    this.setState({show_editor : !this.state.show_editor}, (() => {\n\n      this.refs.textarea.value = this.state.raw\n    }).bind(this))\n  }\n  render () {\n\n    const display =this.state.show_editor ? \"block\" : \"none\"\n    const {style} = this.props\n    \n    return (\n      <div className=\"markdown clearfix\" ref=\"markdown\">\n\n        <div\n          onClick={this._toggle.bind(this)}\n          className=\"btn\" style={{color : this.state.show_editor ? \"#49fff6\" : \"#ddd\"}}><i className=\"material-icons\">mode_edit</i></div>\n        <div className=\"markdown-editor\" style={{display, height : style.h + \"px\" }}>\n          <textarea ref=\"textarea\" onInput={this._input.bind(this)} ></textarea>\n        </div>\n        <div className=\"preview\" style={{width : this.state.show_editor ? \"50%\" : \"100%\", height : style.h + \"px\"}} dangerouslySetInnerHTML={{__html : this.state.content}}/>\n        <div style={{clear : 'both'}}></div>\n      </div>\n    )\n  }\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Markdown.js","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport React, {Component} from 'react'\n\n\nimport {connect} from 'react-redux'\n\n\nimport {switch_to} from \"./redux/actions/course\"\nimport {save, compile} from \"./redux/actions/code\"\n\nimport {getDimensions} from \"util/dimensions\"\n\nfunction loading_data({course, topic, id}, widget) {\n  function loading() {\n    const url = `/courses/${course}/${topic}/${id}_${widget.id}.js`\n\n    return new Promise((resolve, reject) => {\n      $.get(url, data => {\n          resolve(data)\n        })\n        .catch(err => {\n          resolve(null)\n        })\n    })\n\n  }\n  return loading()\n\n}\nexport class Fiddle extends Component{\n\n  constructor(){\n    super()\n    this.state = {\n      content : null,\n      loading : true,\n      show_code : true,\n      show_html : true\n    }\n  }\n  \n  componentDidMount(){\n    socket.on(\"compile-error\", function(msg){\n      console.error(msg)\n    }) \n    const _s = this\n    socket.on(\"compile-succ\", function(msg){\n      \n      if(_s.refs.frame)\n        _s.refs.frame.reload()\n\n    })\n  }\n  \n  componentWillMount(){\n    \n    this.reloading(this.props.course)\n  }\n  \n  reloading(course){\n    const _s = this\n    loading_data(course, this.props.widget)\n      .then(data => {\n        _s.setState({\n          content : data || \"\",\n          loading : false\n        }, () => {\n          _s.refs.editor.reload()\n        })  \n      })\n  }\n  \n  \n\n  componentWillReceiveProps(nextProps){\n\n    if(nextProps.course.course !== this.props.course.course\n      ||\n      nextProps.course.topic !== this.props.course.topic\n      ||\n\n      nextProps.course.id !== this.props.course.id\n    )\n    {\n      setTimeout( (() => {\n        this.reloading(nextProps.course)\n      }).bind(this), 20)\n    }\n  }\n  \n  _compile(){\n    const course = this.props.course\n    store.dispatch(compile(course.course, course.topic, course.id, this.props.widget)) \n  }\n  \n  _save(){\n    if(!this.state.loading)\n      this.refs.editor.saveCtx()\n  }\n\n  _toggleCode(){\n    this.setState({\n      show_code : !this.state.show_code\n    })\n    \n  }\n\n  _toggleHtml(){\n    this.setState({\n      show_html: !this.state.show_html\n    })\n  }\n  \n\n  render(){\n    if(this.state.content === null || this.state.loading) {\n      return null\n    }\n    \n    return <div className=\"fiddle\">\n\n      <div className=\"options\">\n        <div className=\"option\" onClick={this._compile.bind(this)} ><i className=\"material-icons\">play_arrow</i></div>\n        <div className=\"option\" onClick={this._toggleCode.bind(this)} >code</div>\n        <div className=\"option\" onClick={this._toggleHtml.bind(this)} >html</div>\n        <div style={{clear : \"both\"}}></div>\n      </div>\n\n      <div>\n        <CodeEditor\n          show_html={this.state.show_html} show_code={this.state.show_code}\n          style={this.props.style}\n          widget={this.props.widget} course={this.props.course}\n          initialContent={this.state.content} ref=\"editor\"/>\n\n        <Frame show_html={this.state.show_html} show_code={this.state.show_code} widget={this.props.widget} course={this.props.course} ref=\"frame\"/>\n        <div style={{clear : \"both\"}}/>\n      </div>\n    </div>\n    \n  }\n}\n\n\nclass Frame extends Component{\n\n  reload(){\n    this.refs.frame.contentWindow.location.reload()\n  }\n\n  render() {\n    \n    \n    const p = (show_code, show_html) => {\n      if(show_code && show_html) {\n        return \"30%\"\n      } else if(show_html) {\n        return  \"100%\"\n      }\n      \n    } \n    const course = this.props.course\n    const src = \"/app?file=\" + course.course + \"_\" + course.topic + \"_\" + course.id + \"_\" + this.props.widget.id\n    return <div className=\"frame\" style={{display : this.props.show_html ? \"block\" : \"none\", width : p(this.props.show_code, this.props.show_html)}}>\n      <iframe frameBorder=\"0\" src={src} ref=\"frame\"/>\n\n    </div>\n  }\n}\n\n\nclass CodeEditor extends Component {\n\n\n  reload(){\n    this.doc.setValue(this.props.initialContent)   \n  }\n\n  componentDidMount(){\n    this.doc = CodeMirror(this.refs.editor, {\n      value: this.props.initialContent,\n      mode:  \"jsx\",\n      cursorHeight : 1 \n    });\n\n    \n    this.I = setInterval( this.saveCtx.bind(this), 1000)\n  }\n\n  compomentWillUnmount(){\n    clearInterval(this.I)\n  }\n  \n  saveCtx(){\n\n    const value = this.doc.getValue()\n    const course = this.props.course\n    store.dispatch(save(course.course, course.topic, course.id, value, this.props.widget))\n    \n  }\n  render(){\n     \n    const p = (show_code, show_html) => {\n      if(show_code && show_html) {\n        return \"70%\"\n      } else if(show_code) {\n        return  \"100%\"\n      }\n      \n    } \n    return <div ref=\"editor\" style={{height : this.props.style.h + \"px\", display : this.props.show_code ? \"block\" : \"none\", width : p(this.props.show_code, this.props.show_html)}} className=\"editor\"></div>\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Fiddle.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nexport const ACTION_SAVE = \"save@Fiddle\"\nexport const ACTION_COMPILE = \"compile@Fiddle\"\n\n\nexport const save = (course, topic, id, content, widget) => {\n  return {\n    type : ACTION_SAVE,\n    course,\n    topic,\n    id,\n    content ,\n    widget\n  }\n}\n\n\nexport const compile = (course, topic, id, widget) => {\n  return {\n    type : ACTION_COMPILE,\n    course,\n    topic,\n    id,\n    widget\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/actions/code.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\n\nimport {\n  compose,\n  applyMiddleware,\n  createStore,\n  combineReducers\n} from 'redux'\n\nimport {persistStore, autoRehydrate} from 'redux-persist'\n\n/** 引入 Reducer **/\nimport {course} from \"redux/reducers/course\"\n\n/** 引入 middleware **/\n\nimport {socket_recorder} from 'redux/middlewares/socket_recorder'\nimport {browser_hash} from \"redux/middlewares/browser_hash\"\nimport thunk from 'redux-thunk'\n\n/**\n * 创建Redux-Store\n * @returns {*}\n */\n\nexport const init = () => {\n  // 合并Reducer\n  const reducers = {\n    course \n  }\n\n  const reducer = combineReducers(reducers);\n  // 创建Store\n  // 这里是将所有的redux enhancer组合起来\n  const store = applyMiddleware(thunk, socket_recorder, browser_hash)(createStore)(reducer)\n  \n  window.store = store\n  return store\n  \n\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/store/init.js","module.exports = (__webpack_require__(2))(187);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux/lib/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 20\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storages = exports.purgeStoredState = exports.persistStore = exports.getStoredState = exports.createTransform = exports.createPersistor = exports.autoRehydrate = undefined;\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nvar _autoRehydrate = require('./autoRehydrate');\n\nvar _autoRehydrate2 = _interopRequireDefault(_autoRehydrate);\n\nvar _createPersistor = require('./createPersistor');\n\nvar _createPersistor2 = _interopRequireDefault(_createPersistor);\n\nvar _createTransform = require('./createTransform');\n\nvar _createTransform2 = _interopRequireDefault(_createTransform);\n\nvar _getStoredState = require('./getStoredState');\n\nvar _getStoredState2 = _interopRequireDefault(_getStoredState);\n\nvar _persistStore = require('./persistStore');\n\nvar _persistStore2 = _interopRequireDefault(_persistStore);\n\nvar _purgeStoredState = require('./purgeStoredState');\n\nvar _purgeStoredState2 = _interopRequireDefault(_purgeStoredState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar storageDeprecatedMessage = function storageDeprecatedMessage(type) {\n  return '\\n  To import async' + type + 'Storage please import from \\'redux-persist/storages\\'. For Example:\\n  `import { async' + type + 'Storage } from \\'redux-persist/storages\\'`\\n  or `var async' + type + 'Storage = require(\\'redux-persist/storages\\').async' + type + 'Storage`\\n';\n};\n\nvar storages = {\n  asyncLocalStorage: (0, _asyncLocalStorage2.default)('local', { deprecated: storageDeprecatedMessage('Local') }),\n  asyncSessionStorage: (0, _asyncLocalStorage2.default)('session', { deprecated: storageDeprecatedMessage('Session') })\n};\n\nexports.autoRehydrate = _autoRehydrate2.default;\nexports.createPersistor = _createPersistor2.default;\nexports.createTransform = _createTransform2.default;\nexports.getStoredState = _getStoredState2.default;\nexports.persistStore = _persistStore2.default;\nexports.purgeStoredState = _purgeStoredState2.default;\nexports.storages = storages;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/index.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (type, config) {\n  var deprecated = config && config.deprecated;\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      // warn if deprecated\n      if (deprecated) console.warn('redux-persist: ', deprecated);\n\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n          nextTick(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          nextTick(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          nextTick(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          nextTick(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n};\n\nvar genericSetImmediate = typeof setImmediate === 'undefined' ? global.setImmediate : setImmediate;\nvar nextTick = process && process.nextTick ? process.nextTick : genericSetImmediate;\n\nvar noStorage = process.env.NODE_ENV === 'production' ? function () {\n  /* noop */return null;\n} : function () {\n  console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n  return null;\n};\n\nfunction hasLocalStorage() {\n  var storageExists = void 0;\n  try {\n    storageExists = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && !!window.localStorage;\n    if (storageExists) {\n      var testKey = 'redux-persist localStorage test';\n      // @TODO should we also test set and remove?\n      window.localStorage.getItem(testKey);\n    }\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist localStorage getItem test failed, persistence will be disabled.');\n    return false;\n  }\n  return storageExists;\n}\n\nfunction hasSessionStorage() {\n  try {\n    return (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && typeof window.sessionStorage !== 'undefined';\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/defaults/asyncLocalStorage.js\n// module id = 22\n// module chunks = 0","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 23\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 24\n// module chunks = 0","module.exports = (__webpack_require__(2))(3);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/process/browser.js from dll-reference react_7de69c5da675c4deed75\n// module id = 25\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = autoRehydrate;\n\nvar _constants = require('./constants');\n\nvar _isStatePlainEnough = require('./utils/isStatePlainEnough');\n\nvar _isStatePlainEnough2 = _interopRequireDefault(_isStatePlainEnough);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction autoRehydrate() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var stateReconciler = config.stateReconciler || defaultStateReconciler;\n\n  return function (next) {\n    return function (reducer, initialState, enhancer) {\n      var store = next(liftReducer(reducer), initialState, enhancer);\n      return _extends({}, store, {\n        replaceReducer: function replaceReducer(reducer) {\n          return store.replaceReducer(liftReducer(reducer));\n        }\n      });\n    };\n  };\n\n  function liftReducer(reducer) {\n    var rehydrated = false;\n    var preRehydrateActions = [];\n    return function (state, action) {\n      if (action.type !== _constants.REHYDRATE) {\n        if (config.log && !rehydrated) preRehydrateActions.push(action); // store pre-rehydrate actions for debugging\n        return reducer(state, action);\n      } else {\n        if (config.log && !rehydrated) logPreRehydrate(preRehydrateActions);\n        rehydrated = true;\n\n        var inboundState = action.payload;\n        var reducedState = reducer(state, action);\n\n        return stateReconciler(state, inboundState, reducedState, config.log);\n      }\n    };\n  }\n}\n\nfunction logPreRehydrate(preRehydrateActions) {\n  if (preRehydrateActions.length > 0) {\n    console.log('\\n      redux-persist/autoRehydrate: %d actions were fired before rehydration completed. This can be a symptom of a race\\n      condition where the rehydrate action may overwrite the previously affected state. Consider running these actions\\n      after rehydration:\\n    ', preRehydrateActions.length);\n  }\n}\n\nfunction defaultStateReconciler(state, inboundState, reducedState, log) {\n  var newState = _extends({}, reducedState);\n\n  Object.keys(inboundState).forEach(function (key) {\n    // if initialState does not have key, skip auto rehydration\n    if (!state.hasOwnProperty(key)) return;\n\n    // if initial state is an object but inbound state is null/undefined, skip\n    if (_typeof(state[key]) === 'object' && !inboundState[key]) {\n      if (log) console.log('redux-persist/autoRehydrate: sub state for key `%s` is falsy but initial state is an object, skipping autoRehydrate.', key);\n      return;\n    }\n\n    // if reducer modifies substate, skip auto rehydration\n    if (state[key] !== reducedState[key]) {\n      if (log) console.log('redux-persist/autoRehydrate: sub state for key `%s` modified, skipping autoRehydrate.', key);\n      newState[key] = reducedState[key];\n      return;\n    }\n\n    // otherwise take the inboundState\n    if ((0, _isStatePlainEnough2.default)(inboundState[key]) && (0, _isStatePlainEnough2.default)(state[key])) newState[key] = _extends({}, state[key], inboundState[key]); // shallow merge\n    else newState[key] = inboundState[key]; // hard set\n\n    if (log) console.log('redux-persist/autoRehydrate: key `%s`, rehydrated to ', key, newState[key]);\n  });\n  return newState;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/autoRehydrate.js\n// module id = 26\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar KEY_PREFIX = exports.KEY_PREFIX = 'reduxPersist:';\nvar REHYDRATE = exports.REHYDRATE = 'persist/REHYDRATE';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/constants.js\n// module id = 27\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isStatePlainEnough;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isStatePlainEnough(a) {\n  // isPlainObject + duck type not immutable\n  if (!a) return false;\n  if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) !== 'object') return false;\n  if (typeof a.asMutable === 'function') return false;\n  if (!(0, _isPlainObject2.default)(a)) return false;\n  return true;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/utils/isStatePlainEnough.js\n// module id = 28\n// module chunks = 0","module.exports = (__webpack_require__(2))(189);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/lodash/isPlainObject.js from dll-reference react_7de69c5da675c4deed75\n// module id = 29\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createPersistor;\n\nvar _constants = require('./constants');\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nvar _purgeStoredState = require('./purgeStoredState');\n\nvar _purgeStoredState2 = _interopRequireDefault(_purgeStoredState);\n\nvar _jsonStringifySafe = require('json-stringify-safe');\n\nvar _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createPersistor(store, config) {\n  // defaults\n  var serializer = config.serialize === false ? function (data) {\n    return data;\n  } : defaultSerializer;\n  var deserializer = config.serialize === false ? function (data) {\n    return data;\n  } : defaultDeserializer;\n  var blacklist = config.blacklist || [];\n  var whitelist = config.whitelist || false;\n  var transforms = config.transforms || [];\n  var debounce = config.debounce || false;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // pluggable state shape (e.g. immutablejs)\n  var stateInit = config._stateInit || {};\n  var stateIterator = config._stateIterator || defaultStateIterator;\n  var stateGetter = config._stateGetter || defaultStateGetter;\n  var stateSetter = config._stateSetter || defaultStateSetter;\n\n  // storage with keys -> getAllKeys for localForage support\n  var storage = config.storage || (0, _asyncLocalStorage2.default)('local');\n  if (storage.keys && !storage.getAllKeys) {\n    storage.getAllKeys = storage.keys;\n  }\n\n  // initialize stateful values\n  var lastState = stateInit;\n  var paused = false;\n  var storesToProcess = [];\n  var timeIterator = null;\n\n  store.subscribe(function () {\n    if (paused) return;\n\n    var state = store.getState();\n\n    stateIterator(state, function (subState, key) {\n      if (!passWhitelistBlacklist(key)) return;\n      if (stateGetter(lastState, key) === stateGetter(state, key)) return;\n      if (storesToProcess.indexOf(key) !== -1) return;\n      storesToProcess.push(key);\n    });\n\n    // time iterator (read: debounce)\n    if (timeIterator === null) {\n      timeIterator = setInterval(function () {\n        if (storesToProcess.length === 0) {\n          clearInterval(timeIterator);\n          timeIterator = null;\n          return;\n        }\n\n        var key = storesToProcess[0];\n        var storageKey = createStorageKey(key);\n        var endState = transforms.reduce(function (subState, transformer) {\n          return transformer.in(subState, key);\n        }, stateGetter(store.getState(), key));\n        if (typeof endState !== 'undefined') storage.setItem(storageKey, serializer(endState), warnIfSetError(key));\n        storesToProcess.shift();\n      }, debounce);\n    }\n\n    lastState = state;\n  });\n\n  function passWhitelistBlacklist(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return false;\n    if (blacklist.indexOf(key) !== -1) return false;\n    return true;\n  }\n\n  function adhocRehydrate(incoming) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var state = {};\n    if (options.serial) {\n      stateIterator(incoming, function (subState, key) {\n        try {\n          var data = deserializer(subState);\n          var value = transforms.reduceRight(function (interState, transformer) {\n            return transformer.out(interState, key);\n          }, data);\n          state = stateSetter(state, key, value);\n        } catch (err) {\n          if (process.env.NODE_ENV !== 'production') console.warn('Error rehydrating data for key \"' + key + '\"', subState, err);\n        }\n      });\n    } else state = incoming;\n\n    store.dispatch(rehydrateAction(state));\n    return state;\n  }\n\n  function createStorageKey(key) {\n    return '' + keyPrefix + key;\n  }\n\n  // return `persistor`\n  return {\n    rehydrate: adhocRehydrate,\n    pause: function pause() {\n      paused = true;\n    },\n    resume: function resume() {\n      paused = false;\n    },\n    purge: function purge(keys) {\n      return (0, _purgeStoredState2.default)({ storage: storage, keyPrefix: keyPrefix }, keys);\n    }\n  };\n}\n\nfunction warnIfSetError(key) {\n  return function setError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}\n\nfunction defaultSerializer(data) {\n  return (0, _jsonStringifySafe2.default)(data, null, null, function (k, v) {\n    if (process.env.NODE_ENV !== 'production') return null;\n    throw new Error('\\n      redux-persist: cannot process cyclical state.\\n      Consider changing your state structure to have no cycles.\\n      Alternatively blacklist the corresponding reducer key.\\n      Cycle encounted at key \"' + k + '\" with value \"' + v + '\".\\n    ');\n  });\n}\n\nfunction defaultDeserializer(serial) {\n  return JSON.parse(serial);\n}\n\nfunction rehydrateAction(data) {\n  return {\n    type: _constants.REHYDRATE,\n    payload: data\n  };\n}\n\nfunction defaultStateIterator(collection, callback) {\n  return Object.keys(collection).forEach(function (key) {\n    return callback(collection[key], key);\n  });\n}\n\nfunction defaultStateGetter(state, key) {\n  return state[key];\n}\n\nfunction defaultStateSetter(state, key, value) {\n  state[key] = value;\n  return state;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/createPersistor.js\n// module id = 30\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = purgeStoredState;\n\nvar _constants = require('./constants');\n\nfunction purgeStoredState(config, keys) {\n  var storage = config.storage;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // basic validation\n  if (Array.isArray(config)) throw new Error('redux-persist: purgeStoredState requires config as a first argument (found array). An array of keys is the optional second argument.');\n  if (!storage) throw new Error('redux-persist: config.storage required in purgeStoredState');\n\n  if (typeof keys === 'undefined') {\n    // if keys is not defined, purge all keys\n    return new Promise(function (resolve, reject) {\n      storage.getAllKeys(function (err, allKeys) {\n        if (err && process.env.NODE_ENV !== 'production') {\n          console.warn('redux-persist: error during purgeStoredState in storage.getAllKeys');\n          reject(err);\n        } else {\n          resolve(purgeStoredState(config, allKeys.filter(function (key) {\n            return key.indexOf(keyPrefix) === 0;\n          }).map(function (key) {\n            return key.slice(keyPrefix.length);\n          })));\n        }\n      });\n    });\n  } else {\n    // otherwise purge specified keys\n    return Promise.all(keys.map(function (key) {\n      return storage.removeItem('' + keyPrefix + key, warnIfRemoveError(key));\n    }));\n  }\n}\n\nfunction warnIfRemoveError(key) {\n  return function removeError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/purgeStoredState.js\n// module id = 31\n// module chunks = 0","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-stringify-safe/stringify.js\n// module id = 32\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction createTransform(inbound, outbound) {\n  var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var whitelist = config.whitelist || null;\n  var blacklist = config.blacklist || null;\n\n  function whitelistBlacklistCheck(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return true;\n    if (blacklist && blacklist.indexOf(key) !== -1) return true;\n    return false;\n  }\n\n  return {\n    in: function _in(state, key) {\n      return !whitelistBlacklistCheck(key) && inbound ? inbound(state, key) : state;\n    },\n    out: function out(state, key) {\n      return !whitelistBlacklistCheck(key) && outbound ? outbound(state, key) : state;\n    }\n  };\n}\n\nexports.default = createTransform;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/createTransform.js\n// module id = 33\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = getStoredState;\n\nvar _constants = require('./constants');\n\nvar _asyncLocalStorage = require('./defaults/asyncLocalStorage');\n\nvar _asyncLocalStorage2 = _interopRequireDefault(_asyncLocalStorage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getStoredState(config, onComplete) {\n  var storage = config.storage || (0, _asyncLocalStorage2.default)('local');\n  var deserialize = config.deserialize || defaultDeserialize;\n  var blacklist = config.blacklist || [];\n  var whitelist = config.whitelist || false;\n  var transforms = config.transforms || [];\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : _constants.KEY_PREFIX;\n\n  // fallback getAllKeys to `keys` if present (LocalForage compatability)\n  if (storage.keys && !storage.getAllKeys) storage = _extends({}, storage, { getAllKeys: storage.keys });\n\n  var restoredState = {};\n  var completionCount = 0;\n\n  storage.getAllKeys(function (err, allKeys) {\n    if (err) {\n      if (process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error in storage.getAllKeys');\n      complete(err);\n    }\n\n    var persistKeys = allKeys.filter(function (key) {\n      return key.indexOf(keyPrefix) === 0;\n    }).map(function (key) {\n      return key.slice(keyPrefix.length);\n    });\n    var keysToRestore = persistKeys.filter(passWhitelistBlacklist);\n\n    var restoreCount = keysToRestore.length;\n    if (restoreCount === 0) complete(null, restoredState);\n    keysToRestore.forEach(function (key) {\n      storage.getItem(createStorageKey(key), function (err, serialized) {\n        if (err && process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error restoring data for key:', key, err);else restoredState[key] = rehydrate(key, serialized);\n        completionCount += 1;\n        if (completionCount === restoreCount) complete(null, restoredState);\n      });\n    });\n  });\n\n  function rehydrate(key, serialized) {\n    var state = null;\n\n    try {\n      var data = deserialize(serialized);\n      state = transforms.reduceRight(function (subState, transformer) {\n        return transformer.out(subState, key);\n      }, data);\n    } catch (err) {\n      if (process.env.NODE_ENV !== 'production') console.warn('redux-persist/getStoredState: Error restoring data for key:', key, err);\n    }\n\n    return state;\n  }\n\n  function complete(err, restoredState) {\n    onComplete(err, restoredState);\n  }\n\n  function passWhitelistBlacklist(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return false;\n    if (blacklist.indexOf(key) !== -1) return false;\n    return true;\n  }\n\n  function createStorageKey(key) {\n    return '' + keyPrefix + key;\n  }\n\n  if (typeof onComplete !== 'function' && !!Promise) {\n    return new Promise(function (resolve, reject) {\n      onComplete = function onComplete(err, restoredState) {\n        if (err) reject(err);else resolve(restoredState);\n      };\n    });\n  }\n}\n\nfunction defaultDeserialize(serial) {\n  return JSON.parse(serial);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/getStoredState.js\n// module id = 34\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = persistStore;\n\nvar _constants = require('./constants');\n\nvar _getStoredState = require('./getStoredState');\n\nvar _getStoredState2 = _interopRequireDefault(_getStoredState);\n\nvar _createPersistor = require('./createPersistor');\n\nvar _createPersistor2 = _interopRequireDefault(_createPersistor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// try to source setImmediate as follows: setImmediate (global) -> global.setImmediate -> setTimeout(fn, 0)\nvar genericSetImmediate = typeof setImmediate === 'undefined' ? global.setImmediate || function (fn) {\n  return setTimeout(fn, 0);\n} : setImmediate;\n\nfunction persistStore(store) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var onComplete = arguments[2];\n\n  // defaults\n  // @TODO remove shouldRestore\n  var shouldRestore = !config.skipRestore;\n  if (process.env.NODE_ENV !== 'production' && config.skipRestore) console.warn('redux-persist: config.skipRestore has been deprecated. If you want to skip restoration use `createPersistor` instead');\n\n  var purgeKeys = null;\n\n  // create and pause persistor\n  var persistor = (0, _createPersistor2.default)(store, config);\n  persistor.pause();\n\n  // restore\n  if (shouldRestore) {\n    genericSetImmediate(function () {\n      (0, _getStoredState2.default)(config, function (err, restoredState) {\n        // do not persist state for purgeKeys\n        if (purgeKeys) {\n          if (purgeKeys === '*') restoredState = {};else purgeKeys.forEach(function (key) {\n            return Reflect.deleteProperty(restoredState, key);\n          });\n        }\n\n        store.dispatch(rehydrateAction(restoredState, err));\n        complete(err, restoredState);\n      });\n    });\n  } else genericSetImmediate(complete);\n\n  function complete(err, restoredState) {\n    persistor.resume();\n    onComplete && onComplete(err, restoredState);\n  }\n\n  return _extends({}, persistor, {\n    purge: function purge(keys) {\n      purgeKeys = keys || '*';\n      persistor.purge(keys);\n    }\n  });\n}\n\nfunction rehydrateAction(payload) {\n  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  return {\n    type: _constants.REHYDRATE,\n    payload: payload,\n    error: error\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-persist/lib/persistStore.js\n// module id = 35\n// module chunks = 0","/***********************************************\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport {ACTION_SWITCH_TO, ACTION_SET_COURSE} from \"../actions/course\"\n\n\n\nconst url = new URL(window.location.href)\n\nconst query = qs.parse(url.query.replace(\"?\", \"\")) || {}\nimport URL from 'url-parse'\nimport qs from 'qs'\n\nconst initial = {\n  course : query.course || \"demo\",\n  topic : query.topic,\n  id : query.id,\n  title : null,\n  widgets : {}\n}\n\n\n\n\nconst add_widget = (state, topic, id, widget) => {\n\n  const newState = {...state}\n\n  if(!newState['widgets'][topic]){\n    newState['widgets'][topic] = {}\n    if(!newState['widgets'][topic][id]) {\n      newState['widgets'][topic][id] = []\n    }\n  }\n  if(!widget.id) {\n    widget.id = newState['widgets'][topic][id].length === 0 ? 1 :\n      (newState['widgets'][topic][id][newState['widgets'][topic][id].length - 1].id + 1)\n  }\n  newState['widgets'][topic][id].push(widget)\n  // console.log(\"@add_widget new State\")\n  // console.log(newState)\n  return newState\n  \n}\n\n\n\nconst change_widget = (state, topic, id, {id : widget_id}, x, y, w, h) => {\n\n  const newState = {...state}\n\n  const widgets = newState['widgets'][topic][id]\n  \n  const widget = widgets.find(x => x.id === widget_id)\n  widget.x = x\n  widget.y = y\n  widget.w = w\n  widget.h = h\n  \n  // console.log(\"@add_widget new State\")\n  // console.log(newState)\n  return newState\n}\nconst delete_widget = (state, topic, id, widget) => {\n  const newState = {...state}\n  let widgets = newState['widgets'][topic][id]\n  widgets = widgets.filter(x => x.id !== widget.id)\n  newState['widgets'][topic][id] = widgets\n  return newState\n  \n}\n\nexport const course = (state = initial, action) => {\n  switch(action.type) {\n    case ACTION_SET_COURSE : \n      return {...state, course: action.course}\n    case ACTION_SWITCH_TO : \n      return {...state, topic : action.topic, id : action.id, title : action.title ? action.title : state.title}\n    case \"ADD_WIDGET\" : \n      return add_widget(state, action.topic, action.id, action.widget)\n    case \"CHANGE_WIDGET\" :\n      return change_widget(state, action.topic, action.id, action.widget, action.x, action.y, action.w, action.h)\n    \n    case \"DELETE_WIDGET\" :\n\n      return delete_widget(state, action.topic, action.id, action.widget)\n  }\n  return state\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/redux/reducers/course.js","/***********************************************\n * \n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport {ACTION_DRAW, ACTION_SET_COLOR, ACTION_CLEAR, ACTION_DRAW_SEGMENT} from \"redux/actions/draw\"\n\nimport {ACTION_SAVE, ACTION_COMPILE} from \"redux/actions/code\"\n\nlet socket = null\nexport function init_socket() {\n  window.socket = socket = io(\"ws://localhost:3006\")\n\n}\nexport const socket_recorder = store => next => action => {\n  \n  switch (action.type) {\n\n    case ACTION_DRAW  :\n      socket.emit(\"draw\", action)\n      break\n\n    case ACTION_CLEAR : \n      socket.emit(\"clear\", action)\n      break\n    case ACTION_DRAW_SEGMENT: \n      socket.emit(\"draw\", action)\n      break\n    case ACTION_SAVE:\n      socket.emit(\"save\", action)\n\n      break\n\n    case ACTION_COMPILE:\n      socket.emit(\"compile\", action)\n      break\n    case \"SAVE_WIDGET\" :\n      const {topic, id} = action\n      socket.emit(\"save-widget\", {...action, widgets : store.getState().course.widgets[topic][id]})\n      break\n    case \"SAVE_MARKDOWN\" :\n      socket.emit(\"save-markdown\", action)\n      break\n    case \"DELETE_WIDGET\":\n      socket.emit(\"delete-widget\", action)\n      break\n\n  }\n  \n  return next(action)\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/middlewares/socket_recorder.js","/***********************************************\n *\n * MIT License\n *\n * Copyright (c) 2016 珠峰课堂,Ramroll\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n\nimport {ACTION_SWITCH_TO} from \"../actions/course\"\n\nexport const browser_hash  = store => next => action => {\n\n  switch(action.type) {\n    case ACTION_SWITCH_TO:\n      window.history.pushState(null, \"Blackboard\", \"/?course=\" + store.getState().course.course + \"&topic=\" + action.topic + \"&id=\" + action.id)\n  }\n\n  return next(action)\n}\n\n\n// WEBPACK FOOTER //\n// ./app/redux/middlewares/browser_hash.js","module.exports = (__webpack_require__(2))(225);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux-thunk/lib/index.js from dll-reference react_7de69c5da675c4deed75\n// module id = 39\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./main.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/stylus/main.styl\n// module id = 40\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  box-sizing: border-box;\\n  padding: 0;\\n  margin: 0;\\n}\\n#app {\\n  cursor: url(\" + require(\"./img/pen.png\") + \"), auto;\\n}\\n.menu {\\n  position: absolute;\\n  z-index: 5;\\n  background-color: #fff;\\n  top: 0;\\n  left: -290px;\\n  width: 300px;\\n  border-right: 10px solid #eee;\\n  padding-right: 20px;\\n  transition: left 0.3s ease;\\n}\\n.menu:hover {\\n  border-right: 1px solid #eee;\\n  left: 0;\\n}\\n.menu-item {\\n  color: #333;\\n  font-family: 'Microsoft YaHei';\\n}\\n.menu-item:hover {\\n  font-weight: bold;\\n}\\n.canvas {\\n  width: 100%;\\n  height: 100%;\\n  -webkit-touch-callout: none; /* iOS Safari */\\n  -webkit-user-select: none; /* Chrome/Safari/Opera */\\n  -khtml-user-select: none; /* Konqueror */\\n  -moz-user-select: none; /* Firefox */\\n  -ms-user-select: none; /* Internet Explorer/Edge */\\n  user-select: none; /* Non-prefixed version, currently\\n                                  not supported by any browser */\\n}\\n.color {\\n  position: fixed;\\n  right: 0;\\n  bottom: 0;\\n}\\n.color div {\\n  float: left;\\n  width: 50px;\\n  height: 50px;\\n  border: 2px solid #eee;\\n}\\n.cleaner {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  padding: 10px;\\n  font-size: 20px;\\n  color: #666;\\n  border: 1px solid #eee;\\n}\\n.cleaner:hover {\\n  color: #333;\\n}\\n.eraser {\\n  position: absolute;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  border: 1px solid #000;\\n}\\n.pages {\\n  position: absolute;\\n  top: 20px;\\n  left: 50px;\\n}\\n.pages .page {\\n  margin-left: 5px;\\n  color: #000;\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-color: #efefef;\\n  line-height: 30px;\\n  text-align: center;\\n  color: #fff;\\n  float: left;\\n}\\n.title {\\n  position: absolute;\\n  left: calc(50% - 250px);\\n  font-size: 28px;\\n  opacity: 0.5;\\n  top: 20px;\\n  width: 500px;\\n  text-align: center;\\n  padding-bottom: 5px;\\n  border-bottom: 1px solid #a4ee97;\\n}\\n.fiddle .frame {\\n  width: 30%;\\n  float: left;\\n  height: 100%;\\n}\\n.fiddle .frame iframe {\\n  width: 100%;\\n}\\n.fiddle .editor {\\n  border-right: 1px solid #eee;\\n  font-size: 20px;\\n  width: 70%;\\n  float: left;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.fiddle .options {\\n  border-left: 1px solid #eee;\\n  border-right: 1px solid #eee;\\n  display: block;\\n  z-index: 12;\\n  background-color: #f2f3f4;\\n  overflow: hidden;\\n  height: 30px;\\n}\\n.fiddle .options .option {\\n  float: left;\\n  margin-right: 10px;\\n  padding: 3px 10px;\\n  line-height: 30px;\\n}\\n.fiddle .options .option:hover {\\n  color: #0f0;\\n}\\n.dropbox {\\n  position: absolute;\\n  box-sizing: border-box;\\n  overflow: hidden;\\n  top: 0;\\n  left: 0;\\n  z-index: 10;\\n  background-color: #fff;\\n  resize: true;\\n  border: 1px solid #f2f3f4;\\n}\\n.dropbox:hover {\\n  border: 1px solid #eee;\\n}\\n.dropbox:hover .delete {\\n  display: block;\\n}\\n.dropbox .delete {\\n  color: #b5d592;\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  display: none;\\n  z-index: 999;\\n}\\n.markdown {\\n  width: 100%;\\n  min-width: 300px;\\n  position: relative;\\n}\\n.markdown:hover .btn {\\n  display: block;\\n}\\n.markdown .btn {\\n  position: absolute;\\n  display: none;\\n  width: 20px;\\n  height: 20px;\\n  bottom: 10px;\\n  right: 10px;\\n  color: #b5d592;\\n  text-align: center;\\n  line-height: 20px;\\n}\\n.markdown .markdown-editor {\\n  width: 50%;\\n  float: left;\\n}\\n.markdown .markdown-editor textarea {\\n  width: 100%;\\n  border: none;\\n  outline: none;\\n  height: 100%;\\n}\\n.markdown .preview {\\n  width: 50%;\\n  float: left;\\n  word-wrap: break-word;\\n}\\n.markdown .preview p {\\n  font-size: 1rem;\\n  color: #666;\\n  margin-bottom: 10px;\\n}\\n.markdown .preview h1,\\n.markdown .preview h2,\\n.markdown .preview h3,\\n.markdown .preview h4 {\\n  margin-bottom: 10px;\\n  font-family: \\\"Microsoft YaHei\\\";\\n  color: #333;\\n}\\n.markdown .preview h1 {\\n  font-size: 1.8rem;\\n}\\n.markdown .preview h2 {\\n  font-szie: 1.6rem;\\n}\\n.markdown .preview h3 {\\n  font-size: 1.4rem;\\n}\\n.markdown .preview h4 {\\n  font-size: 1.1rem;\\n}\\n.markdown .preview ul,\\n.markdown .preview ol {\\n  padding-left: 3rem;\\n}\\n.markdown .preview pre {\\n  margin: 10px;\\n  padding: 10px;\\n  background-color: #f2f3f4;\\n}\\n.tools {\\n  position: fixed;\\n  bottom: 0;\\n}\\n.tools .tools-btn {\\n  width: 50px;\\n  height: 50px;\\n  text-align: center;\\n  line-height: 50px;\\n  color: #b5d592;\\n  float: left;\\n}\\n.tools .tools-btn:hover i {\\n  color: #0f0;\\n}\\n.tools .tools-btn i {\\n  font-size: 48px;\\n}\\n.clearfix:after {\\n  clear: both;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/stylus-loader!./app/stylus/main.styl\n// module id = 41\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 42\n// module chunks = 0","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/stylus/img/pen.png\n// module id = 43\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 44\n// module chunks = 0"],"sourceRoot":""}